{"version":3,"sources":["webpack:///./templates/cardsTemplatesMyLibrary.hbs","webpack:///./templates/cardsTemplate.hbs","webpack:///./templates/modalCard.hbs","webpack:///./js/refs.js","webpack:///./js/footerModal.js","webpack:///./js/our-students.js","webpack:///./js/utils/spiner.js","webpack:///./js/utils/apiReqst.js","webpack:///./js/apiServices.js","webpack:///./js/notification.js","webpack:///./js/btn-ctrl.js","webpack:///./js/add-to-watch.js","webpack:///./js/add-to-favorite.js","webpack:///./js/utils/scroll.js","webpack:///./js/utils/paginator.js","webpack:///./js/toPaginateWithApi.js","webpack:///./js/myLibrary.js","webpack:///./js/createCards.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","alias3","refs","logo","document","querySelector","homeBtn","filmsListHome","filmListMyLibrary","target","getElementById","libraryBtn","modalStudents","searchForm","searchInput","paginatorWrapper","cardFilm","blockModalFilm","errorNotafication","lightboxDiv","mainConteiner","butClose","libraryWatchedBtn","libraryQueueBtn","upButton","body","intervalId","addEventListener","event","preventDefault","instance","basicLightbox","show","lightboxRef","window","e","code","close","clearInterval","classList","contains","slideIndex","list","dots","querySelectorAll","numActive","currentSlide","n","showSlides","i","slides","getElementsByClassName","length","style","display","className","replace","sliderStart","number","findIndex","node","includes","setInterval","forEach","dataset","active","nodeName","console","log","onclick","spinner","Spinner","lines","width","radius","scale","corners","speed","rotate","animation","direction","color","fadeColor","top","left","shadow","zIndex","position","API_KEY","axios","defaults","baseURL","getPage","keyword","pageNum","url","stop","getPopularPath","getKeywordPath","get","then","res","getMovieByIdArray","idArray","Promise","resolve","reject","all","map","item","genreIdsConverting","releaseDataCut","getGenresArray","ids","id","searchGenre","genresList","find","name","genre_ids","Array","from","join","genres","filteringArray","release_date","slice","ApiRequest","apiPage","filmIndex","films","this","promise","getData","ApiData","totalResults","totalPages","updData","updKeyword","DataProccessing","apiData","apiRequests","appPages","appCurrentPage","resultsPerPage","defineNewPageNumber","keywordSearch","getNextPage","page","splice","defineApiRequests","resultDataArr","it","updPageData","total_results","total_pages","index","filtered","filterDataArray","results","push","isResolutionChanged","defineResultsPerPage","Math","ceil","updResolution","newPageNumber","ApiIndex","matchFilmIndex","matchFilms","filteredArray","filter","vote_average","toFixed","firstRequest","resArray","secondRequest","innerWidth","updResults","currentPageElemId","pageNumWithCurrElem","templateNotyfi","message","renderNotyfi","insertAdjacentHTML","btnContainer","add","setTimeout","remove","renderNotyfiWarn","btnNotifyTItle","resetNotify","isIDAlreadyInList","reqList","localStorage","getItem","parse","JSON","getList","indexOf","disableButton","button","btnRef","getBtnRef","disabled","enableButton","changeBtnText","mode","refWatchedBtn","innerHTML","textAnimation","splitText","textContent","split","char","timer","span","spanSplit","complete","deleteInterval","successInterval","addWatchedFilm","action","handlerAddToLs","idEl","parseObj","getObject","obj","pushToLs","deleteTimer","removeItem","str","stringify","setItem","updLS","btnSuccess","dir","successTimer","getUniqueId","getSaveData","save","addFavoriteFilm","listenScroll","scrollY","opacity","scrollUp","scrollTo","behavior","global","$","throwError","pluginName","eventPrefix","fn","pagination","options","attributes","extend","initialize","self","callHook","initialized","model","pageRange","pageSize","parseDataSource","dataSource","isAsync","Helpers","isString","isArray","totalNumber","isDynamicTotalNumber","totalNumberLocator","el","render","addClass","observer","isBoot","isForced","currentPage","pageNumber","totalPage","paginateObj","getTotalAppPages","rangeStart","rangeEnd","min","html","generateHTML","hideWhenLessThanOnePage","generatePageNumbersHTML","args","pageLink","ellipsisText","classPrefix","activeClassName","disableClassName","showFirstOnEllipsisShow","showLastOnEllipsisShow","getTotalNumber","showPrevious","showNext","showPageNumbers","showNavigator","showGoInput","showGoButton","prevText","nextText","goButtonText","ulClassName","goInput","goButton","formatNavigator","isFunction","formatGoInput","formatGoButton","autoHidePrevious","autoHideNext","header","footer","replaceVariables","input","findTotalNumberFromRemoteResponse","response","go","callback","parseInt","postData","alias","disable","chooseFn","getDataFragment","enable","formatResult","cloneData","currentPageData","doCallback","customCallback","destroy","off","previous","next","source","refresh","is","hide","variables","formattedString","key","value","regexp","RegExp","start","end","getLocator","locator","result","filterDataByLocator","filteredData","isObject","each","test","ajaxDataType","hook","paginationData","apply","arguments","shift","on","done","trim","isNumeric","delegate","current","currentTarget","attr","hasClass","val","trigger","which","focus","validTotalPage","max","defaultPageNumber","triggerPagingOnInit","uninstallPlugin","parameterChecker","inlineStyle","selector","jQuery","content","Error","undefined","object","tmp","toString","toLowerCase","getObjectType","define","paginate","createCards","myLibraryRequest","idListQueue","j","dataPerPage","keySearch","dataProccessing","catch","libraryListLength","getAppPages","markQueue","lokalStorage","queueListId","queueList","libraryWatched","removeEventListener","libraryQueue","markup","onCloseModal","location","pathname","onEscapePress","itemTemplateMyLibrary","itemsTemplate","currentCard","arrayIndex","modalCard","events","debounce","spin","searchFilm"],"mappings":"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","file":"main.f1822130c0a38c1a6319.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"film-list-item\\\">\\r\\n  <div class=\\\"film-card\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":8},\"end\":{\"line\":8,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n  <div class=\\\"film-info\\\">\\r\\n\\r\\n    <h2 class=\\\"film-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":26},\"end\":{\"line\":12,\"column\":35}}}) : helper)))\n    + \"</h2>\\r\\n\\r\\n    <div class=\\\"film-info-wrap\\\">\\r\\n      <p class=\\\"film-genre\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":28},\"end\":{\"line\":15,\"column\":38}}}) : helper)))\n    + \"</p>\\r\\n      <span class=\\\"film-info-mark\\\">|</span>\\r\\n\\r\\n      <p class=\\\"film-year\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":27},\"end\":{\"line\":18,\"column\":43}}}) : helper)))\n    + \"</p>\\r\\n      <span class=\\\"vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":25},\"end\":{\"line\":19,\"column\":41}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <img class=\\\"film-picture\\\" data-index=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"index\") || (data && lookupProperty(data,\"index\"))) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"index\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":40},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \"\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":88},\"end\":{\"line\":5,\"column\":103}}}) : helper)))\n    + \"\\\" alt=\\\"film card\\\" />\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img  class=\\\"film-picture\\\" data-index=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"index\") || (data && lookupProperty(data,\"index\"))) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"index\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":39},\"end\":{\"line\":7,\"column\":49}}}) : helper)))\n    + \"\\\" src=\\\"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png\\\" alt=\\\"content photo\\\">\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":23,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"film-list-item\\\">\\r\\n  <div class=\\\"film-card\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":8,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n<div class=\\\"film-info\\\">\\r\\n\\r\\n  <h2 class=\\\"film-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":24},\"end\":{\"line\":12,\"column\":33}}}) : helper)))\n    + \"</h2>\\r\\n\\r\\n<div class=\\\"film-info-wrap\\\">\\r\\n  <p class=\\\"film-genre\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre_ids\") || (depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre_ids\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":24},\"end\":{\"line\":15,\"column\":37}}}) : helper)))\n    + \"</p>\\r\\n  <span class=\\\"film-info-mark\\\">|</span>\\r\\n\\r\\n  <p class=\\\"film-year\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":23},\"end\":{\"line\":18,\"column\":39}}}) : helper)))\n    + \"</p>\\r\\n</div>\\r\\n</div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <img class=\\\"film-picture\\\" data-index=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"index\") || (data && lookupProperty(data,\"index\"))) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"index\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":40},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \"\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":88},\"end\":{\"line\":5,\"column\":103}}}) : helper)))\n    + \"\\\" alt=\\\"film card\\\" />\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img  class=\\\"film-picture\\\" data-index=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"index\") || (data && lookupProperty(data,\"index\"))) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"index\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":39},\"end\":{\"line\":7,\"column\":49}}}) : helper)))\n    + \"\\\" src=\\\"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png\\\" alt=\\\"content photo\\\">\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":23,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <img class=\\\"image\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":57},\"end\":{\"line\":6,\"column\":72}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":79},\"end\":{\"line\":6,\"column\":88}}}) : helper)))\n    + \"\\\" />\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"<img  class=\\\"image\\\" src=\\\"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png\\\" alt=\\\"content photo\\\">\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"cardItem__genreList\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"genre_ids\") || (depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"genre_ids\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":66},\"end\":{\"line\":37,\"column\":79}}}) : helper)))\n    + \"</span>\\r\\n               \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"cardItem__genreList\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":38,\"column\":57},\"end\":{\"line\":38,\"column\":67}}}) : helper)))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n   <div class=\\\"container_modal\\\">\\r\\n      \\r\\n      <div class=\\\"cardItem__image\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":12},\"end\":{\"line\":9,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n \\r\\n      <div class=\\\"cardeItem__modal-wrapper\\\">\\r\\n             <h2 class=\\\"cardItem__name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":40},\"end\":{\"line\":13,\"column\":49}}}) : helper)))\n    + \"</h2>\\r\\n\\r\\n           <div class=\\\"cardItem__wrapper\\\">\\r\\n              <div class=\\\"vote-wrapper\\\">\\r\\n              <p class=\\\"cadrItem__vote cardItem_text\\\">Vote / Votes</p>\\r\\n              <span class=\\\"cardItem__vote_average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":51},\"end\":{\"line\":18,\"column\":67}}}) : helper)))\n    + \"</span> / <span  class=\\\"cardItem__vote-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":113},\"end\":{\"line\":18,\"column\":127}}}) : helper)))\n    + \"</span >\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"cardPop-wrapper\\\">\\r\\n              <p class=\\\"cardItem__popularity cardItem_text pop\\\">Popularity</p>\\r\\n              <span class=\\\"cardItem___data pop\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":48},\"end\":{\"line\":23,\"column\":62}}}) : helper)))\n    + \"</span>\\r\\n           </div>\\r\\n\\r\\n\\r\\n           <div class=\\\"cardItem__origin-wrapper\\\">\\r\\n              <p class=\\\"cardItem-Title cardItem_text\\\">Original Title</p>\\r\\n              <span class=\\\"cardItem__title_data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":49},\"end\":{\"line\":29,\"column\":67}}}) : helper)))\n    + \"</span>\\r\\n          </div>\\r\\n\\r\\n          \\r\\n           \\r\\n           \\r\\n          <div class=\\\"genre-wrapper\\\">\\r\\n              <p class=\\\"cardItem__genre cardItem_text\\\">Genre</p>\\r\\n              \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":14},\"end\":{\"line\":38,\"column\":81}}})) != null ? stack1 : \"\")\n    + \"\\r\\n          </div>\\r\\n\\r\\n    </div>\\r\\n<div class=\\\"cardItem__about-wrapper\\\">\\r\\n\\r\\n           <p class=\\\"cardItem__about\\\">About</p>\\r\\n            <p class=\\\"cardItem__description\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":45,\"column\":45},\"end\":{\"line\":45,\"column\":57}}}) : helper)))\n    + \"</p>\\r\\n\\r\\n           </div>\\r\\n        \\r\\n         <div class=\\\"history-btn-wrapper\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"btn-watched\\\" data-action=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":50,\"column\":65},\"end\":{\"line\":50,\"column\":71}}}) : helper)))\n    + \"\\\">ADD TO WATCHED</button>\\r\\n          <button type=\\\"button\\\" class=\\\"btn-favorite\\\" data-action=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":51,\"column\":66},\"end\":{\"line\":51,\"column\":72}}}) : helper)))\n    + \"\\\">ADD TO QUEUE<span class=\\\"success-btn hidden-success\\\"> <svg viewBox=\\\"0 0 500 500\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" class=\\\"am_Success_Icon \\\"> <path class=\\\"am_SVG_circle\\\" d=\\\"m443.0136,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\\\"></path> <polyline class=\\\"am_SVG_check\\\" points=\\\"104.4892349243164,309.2001647949219 195.57406616210938,402.9600524902344 418.9292297363281,85.03718566894531 \\\"></polyline> </svg></span></button>\\r\\n        </div>\\r\\n        <button\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"lightbox__button\\\"\\r\\n        data-action=\\\"close-lightbox\\\"\\r\\n      ><i class=\\\"material-icons back\\\">keyboard_backspace</i>Back</button>\\r\\n        </div>\\r\\n       \\r\\n       \\r\\n       \\r\\n              </div>\\r\\n                 \\r\\n   \";\n},\"useData\":true});","const refs = {\r\n  logo: document.querySelector('.logo-block'),\r\n  homeBtn: document.querySelector('.home-btn'),\r\n  filmsListHome: document.querySelector('.film-list__home'),\r\n  filmListMyLibrary: document.querySelector('.film-list__my-library'),\r\n  target: document.getElementById('spinner'),\r\n  libraryBtn: document.querySelector('.library-btn'),\r\n  modalStudents: document.querySelector('.link-footer'),\r\n  searchForm: document.querySelector('.search-form'),\r\n  searchInput: document.querySelector('.search-input'),\r\n  paginatorWrapper: document.querySelector('#pagination-container'),\r\n  cardFilm: document.querySelector('.card__colection'),\r\n  blockModalFilm: document.querySelector('.modal-card'),\r\n  errorNotafication: document.querySelector('.film-name-error'),\r\n  lightboxDiv: document.querySelector('.backdrop_close'),\r\n  mainConteiner: document.querySelector('.main-conteiner'),\r\n  butClose: document.querySelector('button[data-action=\"close-lightbox\"]'),\r\n  libraryWatchedBtn: document.querySelector('.lib-watched-js'),\r\n  libraryQueueBtn: document.querySelector('.lib-queue-js'),\r\n  upButton: document.querySelector('.up-button'),\r\n  body: document.querySelector('body'),\r\n};\r\n\r\nexport default refs;\r\n","import refs from './refs';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\nimport { markupStudents } from './our-students.js';\r\n\r\nlet intervalId = null;\r\n\r\nconst showModalFooter = function (event) {\r\n  event.preventDefault();\r\n\r\n  // Ристует модалку\r\n  const instance = basicLightbox.create(markupStudents());\r\n  // Вызывает модалку\r\n  instance.show();\r\n\r\n  const lightboxRef = document.querySelector('.basicLightbox');\r\n\r\n  // Закрытие модалки по кнопке ESC\r\n  window.addEventListener('keydown', handlerClose);\r\n\r\n  function handlerClose(e) {\r\n    if (e.code === 'Escape') {\r\n      instance.close();\r\n      clearInterval(intervalId);\r\n      intervalId = null;\r\n    }\r\n  }\r\n  // Закрытие модалки по клику на бекдроп\r\n  lightboxRef.addEventListener('click', handlerClickClose);\r\n\r\n  function handlerClickClose(e) {\r\n    if (e.target.classList.contains('basicLightbox')) {\r\n      instance.close();\r\n      clearInterval(intervalId);\r\n      intervalId = null;\r\n    }\r\n  }\r\n  // Если слабые нервы, лучше сюда не лезть\r\n  (() => {\r\n    let slideIndex = 1;\r\n    const list = document.querySelector('.slider-dots');\r\n    const dots = document.querySelectorAll('.slider-dots_item');\r\n\r\n    let numActive = [...dots];\r\n\r\n    numActive = numActive.findIndex(nodes) + 1;\r\n\r\n    function nodes(node) {\r\n      node.forEach(node => {\r\n        node.classList.contains('active');\r\n\r\n        dots[slideIndex - 1].dataset.active === '';\r\n      });\r\n    }\r\n    function handlerActive(e) {\r\n      if (e.target.nodeName === 'LI') {\r\n        console.log(e);\r\n        if (e.target.dataset.onclick === '1') {\r\n          currentSlide(1);\r\n          sliderStart(1);\r\n        } else if (e.target.dataset.onclick === '2') {\r\n          currentSlide(2);\r\n          sliderStart(2);\r\n        } else if (e.target.dataset.onclick === '3') {\r\n          currentSlide(3);\r\n          sliderStart(3);\r\n        } else if (e.target.dataset.onclick === '4') {\r\n          currentSlide(4);\r\n          sliderStart(4);\r\n        } else if (e.target.dataset.onclick === '5') {\r\n          currentSlide(5);\r\n          sliderStart(5);\r\n        } else if (e.target.dataset.onclick === '6') {\r\n          currentSlide(6);\r\n          sliderStart(6);\r\n        } else if (e.target.dataset.onclick === '7') {\r\n          currentSlide(7);\r\n          sliderStart(7);\r\n        }\r\n      }\r\n    }\r\n\r\n    list.addEventListener('click', handlerActive);\r\n\r\n    showSlides(slideIndex);\r\n    /* Функция увеличивает индекс на 1, показывает следующй слайд*/\r\n    function plusSlide() {\r\n      showSlides((slideIndex += 1));\r\n    }\r\n    /* Функция уменьшает индекс на 1, показывает предыдущий слайд*/\r\n    function minusSlide() {\r\n      showSlides((slideIndex -= 1));\r\n    }\r\n    /* Устанавливает текущий слайд */\r\n    function currentSlide(n) {\r\n      showSlides((slideIndex = n));\r\n    }\r\n    /* Основная функция слайдера */\r\n    function showSlides(n) {\r\n      var i;\r\n      const slides = document.getElementsByClassName('slider-item');\r\n      var dots = document.getElementsByClassName('slider-dots_item');\r\n      if (n > slides.length) {\r\n        slideIndex = 1;\r\n      }\r\n      if (n < 1) {\r\n        slideIndex = slides.length;\r\n      }\r\n      for (i = 0; i < slides.length; i++) {\r\n        slides[i].style.display = 'none';\r\n      }\r\n      slides[slideIndex - 1].style.display = 'block';\r\n      for (i = 1; i < dots.length; i++) {\r\n        dots[i].className = dots[i].className.replace('active', '');\r\n      }\r\n      dots[slideIndex - 1].className += ' active';\r\n    }\r\n    // функция запускает слайдер\r\n    function sliderStart(number) {\r\n      if (intervalId) {\r\n        clearInterval(intervalId);\r\n      }\r\n\r\n      numActive =\r\n        [...dots].findIndex(node => [...node.classList].includes('active')) + 2;\r\n\r\n      if (number) {\r\n        numActive = number;\r\n      }\r\n\r\n      intervalId = setInterval(() => {\r\n        if (numActive !== 7) {\r\n          numActive++;\r\n        } else {\r\n          numActive = 1;\r\n        }\r\n        // console.log('numActive', numActive);\r\n        currentSlide(numActive);\r\n      }, 4000);\r\n    }\r\n    if (!intervalId) {\r\n      sliderStart();\r\n    }\r\n  })();\r\n};\r\n\r\n// Открывает модалку\r\nrefs.modalStudents.addEventListener('click', showModalFooter);\r\n","export const markupStudents = img =>\r\n  ` <div class=\"container slider\">\r\n    <div class=\"slider-wrapper\">\r\n      <ul class=\"slider-list\">\r\n\r\n         <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n\r\n              <img\r\n                class=\"sim-slider-element\"\r\n\r\n                src=\"./images/students/ion.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n\r\n          </div>\r\n          <p class=\"slider-item-name\">Igor Ionashku</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n              Скрывался за тайной космического фона:) </br> Team Lead\r\n            </p>\r\n        \r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n\r\n              <img\r\n                class=\"sim-slider-element\"\r\n             \r\n                src=\"./images/students/neliia.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n           \r\n          </div>\r\n          <p class=\"slider-item-name\">Neliia Zelienova</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n              Вышла один на один с api - сервисами и нокаутировала их!:) </br> Scrum Master\r\n            </p>\r\n       \r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n\r\n              <img\r\n                class=\"sim-slider-element\"\r\n\r\n                src=\"./images/students/olha.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n\r\n          </div>\r\n          <p class=\"slider-item-name\">Olga Brekhuntsova</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n             Порвала пагинатор, как Тузик - грелку!) </br> Warrior\r\n            </p>\r\n        \r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n\r\n              <img\r\n                class=\"sim-slider-element\"\r\n\r\n                src=\"./images/students/liliia2.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n\r\n          </div>\r\n          <p class=\"slider-item-name\">Liliia Pedorych</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n             Красота на страничке - обратитесь к ней!) </br> Warrior\r\n            </p>\r\n        \r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n        \r\n              <img\r\n                class=\"sim-slider-element\"\r\n               \r\n                src=\"./images/students/anton.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n          </div>\r\n          <p class=\"slider-item-name\">Anton Chyhariev</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n             Всё время делал вид, что чем-то очень сильно занят) </br> Warrior\r\n            </p>\r\n           \r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n\r\n              <img\r\n                class=\"sim-slider-element\"\r\n\r\n                src=\"./images/students/vlad.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n\r\n          </div>\r\n          <p class=\"slider-item-name\">Vladyslav Kirienko</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n              Самая пафосная фотка среди нас))) </br> Warrior\r\n            </p>\r\n        \r\n          </div>\r\n        </li>\r\n        <li class=\"slider-item\">\r\n          <div class=\"picture-wrapper\">\r\n\r\n              <img\r\n                class=\"sim-slider-element\"\r\n\r\n                src=\"./images/students/alexandr.png\"\r\n                alt=\"фото клиента\"\r\n              />\r\n\r\n          </div>\r\n          <p class=\"slider-item-name\">Alexandr Shalimov</p>\r\n          <div class=\"wrapper\">\r\n            <p class=\"slider-text\">\r\n              Если у вас есть проблема - он её решит!)) </br> Warrior\r\n            </p>\r\n        \r\n          </div>\r\n        </li>\r\n       \r\n         \r\n      </ul>\r\n\r\n      <!-- <div class=\"slider-dots-image\">\r\n         <svg class=\"slider-dots-image\">\r\n          <use href=\"./images/sprite/sprite.svg#slide-dots\"></use>\r\n        </svg> -->\r\n      </div>\r\n      <ul class=\"slider-dots\">\r\n        <li class=\"slider-dots_item\" data-onclick=\"1\"></li>\r\n        <li class=\"slider-dots_item\" data-onclick=\"2\"></li>\r\n        <li class=\"slider-dots_item\" data-onclick=\"3\"></li>\r\n        <li class=\"slider-dots_item\" data-onclick=\"4\"></li>\r\n        <li class=\"slider-dots_item\" data-onclick=\"5\"></li>\r\n        <li class=\"slider-dots_item\" data-onclick=\"6\"></li>\r\n        <li class=\"slider-dots_item\" data-onclick=\"7\"></li>\r\n      </ul>\r\n    </div>\r\n  </div>`;\r\n","import { Spinner } from 'spin.js';\r\n\r\nvar opts = {\r\n  lines: 13, // The number of lines to draw\r\n  length: 30, // The length of each line\r\n  width: 17, // The line thickness\r\n  radius: 45, // The radius of the inner circle\r\n  scale: 1, // Scales overall size of the spinner\r\n  corners: 1, // Corner roundness (0..1)\r\n  speed: 1, // Rounds per second\r\n  rotate: 0, // The rotation offset\r\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  color: '#000', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  top: '50%', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  position: 'absolute', // Element positioning\r\n};\r\n\r\nvar spinner = new Spinner(opts);\r\n\r\nexport default spinner;\r\n\r\n// =============================================\r\n// ДЛЯ ИСПОЛЬЗОВАНИЯ СПИНЕРА\r\n\r\n// import refs from './js/refs';\r\n// import spinner from './js/utils/spiner';\r\n\r\n// запускаем спинер\r\n\r\n// spinner.spin(refs.target);\r\n\r\n// останавливаем спинер\r\n\r\n// spinner.stop();\r\n","import axios from 'axios';\r\nimport spinner from './spiner';\r\nconst API_KEY = '15ccc9a8c676c1c9b5477fb06b4d7b82';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n// Сформировать путь запроса к популярным\r\nconst getPopularPath = pageNum => {\r\n  spinner.stop();\r\n  return `movie/popular?api_key=${API_KEY}&language=en-US&page=${pageNum}&region=UA`;\r\n};\r\n\r\n// Сформировать путь запроса для поиска по ключевому слову\r\nconst getKeywordPath = (keyword, pageNum) => {\r\n  return `search/movie?api_key=${API_KEY}&language=en-US&query=${keyword.replace(\r\n    ' ',\r\n    '+',\r\n  )}&page=${pageNum}&include_adult=false`;\r\n};\r\n\r\n// Получить страницу по номеру\r\nexport const getPage = (keyword, pageNum) => {\r\n  let url;\r\n  if (keyword === '') url = getPopularPath(pageNum);\r\n  else url = getKeywordPath(keyword, pageNum);\r\n  return axios.get(url).then(res => res.data);\r\n};\r\n\r\n// Получить перечень жанров фильмов\r\nexport const getGenres = () => {\r\n  const url = `/genre/movie/list?api_key=${API_KEY}&language=en-US`;\r\n  return axios.get(url).then(res => res.data);\r\n};\r\n\r\n// Получить данные о фильму по id\r\nexport const getMovieById = id => {\r\n  const url = `movie/${id}?api_key=${API_KEY}`;\r\n  return axios.get(url).then(res => res.data);\r\n};","import { getPage, getGenres, getMovieById } from './utils/apiReqst';\r\n\r\n// Возвращает массив инфо фильмов по входному массиву ID\r\nexport const getMovieByIdArray = idArray => {\r\n  const promiseRes = new Promise((resolve, reject) => {\r\n    resolve(\r\n      Promise.all(idArray.map(item => getMovieById(item))).then(data => {\r\n        genreIdsConverting(data);\r\n        releaseDataCut(data);\r\n\r\n        return data;\r\n      }),\r\n    );\r\n  });\r\n  return promiseRes;\r\n};\r\n\r\n\r\n// ------ Функции для обработки массива жанров ------\r\n\r\n// Получить массив жанров\r\nfunction getGenresArray(ids) {\r\n  return ids.map(item => getGenreById(item));\r\n}\r\n\r\n// Из массива жанров объекта возвращет строковое название жанра\r\nfunction getGenreById(id) {\r\n  const searchGenre = genresList.find(item => item.id === id);\r\n  if (searchGenre) return searchGenre.name;\r\n  else return '';\r\n}\r\n\r\n// ------ Функции для обработки объектов с инфо о фильмах от API ------\r\nfunction genreIdsConverting(data) {\r\n  try {\r\n    data.forEach(\r\n      item =>\r\n        (item.genre_ids = Array.from(getGenresArray(item.genre_ids)).join(\r\n          ', ',\r\n        )),\r\n    );\r\n  } catch {\r\n    return data.forEach(\r\n      item =>\r\n        (item.genres = Array.from(item.genres.map(item => item.name)).join(\r\n          ', ',\r\n        )),\r\n    );\r\n  }\r\n}\r\n\r\nfunction releaseDataCut(filteringArray) {\r\n  filteringArray.forEach(item => {\r\n    if (item.release_date) item.release_date = item.release_date.slice(0, 4);\r\n  });\r\n}\r\n\r\nfunction changeMovieRating(filteringArray) {\r\n  filteringArray.forEach(\r\n    item => (item.vote_average = item.vote_average.toFixed(1)),\r\n  );\r\n}\r\n\r\n// Для работы с API используем объект и его методы DataProccessing\r\n// keywordSearch(keyword) - для поиска по сключевому слову\r\n// getPopular() - получить список популярных фильмов\r\n// getNextPage(page) - возвращает данные для страницы page\r\n\r\n// Константа кол-во фильмов на каждой странице от API\r\nconst API_RESULTS_PER_PAGE = 20;\r\n\r\nlet genresList = [];\r\n\r\n// Объект для формирования, отправки запроса и дальнейшей обработки данных\r\nclass ApiRequest {\r\n  constructor(keyword, apiPage, filmIndex, films) {\r\n    this.keyword = keyword;\r\n    this.apiPage = apiPage;\r\n    this.filmIndex = filmIndex;\r\n    this.films = films;\r\n    this.promise = new Promise((resolve, reject) => {});\r\n  }\r\n\r\n  getData() {\r\n    this.promise = getPage(this.keyword, this.apiPage);\r\n    return this.promise;\r\n  }\r\n}\r\n\r\n// Объект хранит в себе \"служебные\" результаты запроса (нужны для посчета кол-ва страниц)\r\nclass ApiData {\r\n  constructor(keyword, totalResults, totalPages) {\r\n    this.keyword = keyword;\r\n    this.totalResults = totalResults;\r\n    this.totalPages = totalPages;\r\n  }\r\n\r\n  updData(totalResults, totalPages) {\r\n    this.totalResults = totalResults;\r\n    this.totalPages = totalPages;\r\n  }\r\n\r\n  updKeyword(keyword) {\r\n    this.keyword = keyword;\r\n  }\r\n}\r\n\r\n// Объект хранит в себе данные о запросе в API (ключевое слово, общее кол-во результатов, кол-во страниц по запросу в API)\r\n// Инфо о текущей странице для нашего приложения, и кол-во страниц для него\r\n// массив жанров от API в представлении id : Name\r\n// количество выводимых объектов на страницу для текущего расширения\r\nexport class DataProccessing {\r\n  constructor(keyword = '', totalResults, totalPages) {\r\n    this.apiData = new ApiData(keyword, totalResults, totalPages);\r\n    this.apiRequests = [];\r\n    this.appPages = 1;\r\n    this.appCurrentPage = 1;\r\n    this.promise = new Promise((resolve, reject) => {});\r\n    this.resultsPerPage = 0;\r\n    this.defineNewPageNumber();\r\n  }\r\n\r\n  get getAppPages() {\r\n    return this.appPages;\r\n  }\r\n\r\n  get getAppCurrentPage() {\r\n    return this.appCurrentPage;\r\n  }\r\n\r\n  // Поиск по ключевому слову\r\n  keywordSearch(keyword) {\r\n    // Обновить ключевое слово\r\n    this.apiData.updKeyword(keyword);\r\n    // Получить первую страницу по ключевому слову\r\n    return this.getNextPage(1);\r\n  }\r\n\r\n  async getNextPage(page) {\r\n    // Если массив жанров пуст - запросить его у api\r\n    if (genresList.length === 0) {\r\n      await getGenres().then(data => (genresList = Array.from(data.genres)));\r\n    }\r\n    // создаю массив с объектами для запроса (это объект ApiRequest у которого есть метод getData() он возвращает промис запроса от axious)\r\n    // Запрос мб один, если все объекты отображаемой страницы на одной странице api\r\n    // запроса мб два, если часть объектов отображаемой страницы на одной странице api, а другие на следующей\r\n    this.apiRequests.splice(0, this.apiRequests.length);\r\n    // нужно для формирования данных запроса\r\n    this.appCurrentPage = page;\r\n\r\n    // Формируем объекты с данными запроса\r\n    this.apiRequests = this.defineApiRequests();\r\n    // массив объектов инфо о фильме\r\n\r\n    const resultDataArr = [];\r\n    // функция getNextPage должна вернуть промис, но только после того как оба запроса (если их 2) будут выполнены\r\n    // Для этого использую Promise.all([массив промисов])\r\n    this.promise = new Promise((resolve, reject) => {\r\n      // говорим, что наш промис this.promise разрешится успешно, если оба запроса из api будут выполнены успешно\r\n      resolve(\r\n        Promise.all(this.apiRequests.map(item => item.getData())).then(data => {\r\n          data.forEach(it =>\r\n            this.updPageData(it.total_results, it.total_pages),\r\n          );\r\n          // здесь просто фильтрация массива - нужно жанры перобразоват в строку, обрезать дату\r\n          data.map((it, index) => {\r\n            const filtered = this.filterDataArray(it.results, index);\r\n            resultDataArr.push(...filtered);\r\n          });\r\n          // возвращаем отфильтрованный массив\r\n          return resultDataArr;\r\n        }),\r\n      );\r\n    });\r\n\r\n    return this.promise;\r\n  }\r\n\r\n  // Отслеживает изменилось ли разрешение экрана\r\n\r\n  isResolutionChanged() {\r\n    return this.resultsPerPage !== this.defineResultsPerPage();\r\n  }\r\n\r\n  // ------ PRIVATE ------\r\n\r\n  // Новые данные от api - обновить кол-во результатов и страниц с результатами для нашего отображения\r\n  updPageData(totalResults, totalPages) {\r\n    this.apiData.updData(totalResults, totalPages);\r\n    this.appPages = Math.ceil(totalResults / this.resultsPerPage);\r\n  }\r\n\r\n  // Обновить данные в соотвествии с новым расширением\r\n\r\n  async updResolution() {\r\n    // Определить новый номер показываемой страницы (опираюсь на первый элемент на странице до изменения расширения)\r\n\r\n    const newPageNumber = this.defineNewPageNumber();\r\n    if (newPageNumber) {\r\n      return this.getNextPage(newPageNumber);\r\n    }\r\n  }\r\n\r\n  // Фильтровать массив\r\n  filterDataArray(item, ApiIndex) {\r\n    const matchFilmIndex = this.apiRequests[ApiIndex].filmIndex;\r\n    const matchFilms = this.apiRequests[ApiIndex].films;\r\n    const filteredArray = item.filter(\r\n      (it, index) =>\r\n        index >= matchFilmIndex && index < matchFilmIndex + matchFilms,\r\n    );\r\n    // Названия жанров получить по ID и собрать в строку через запятую\r\n    genreIdsConverting(filteredArray);\r\n\r\n    // Дату обрезать (только год релиза, если он не underfined)\r\n    releaseDataCut(filteredArray);\r\n\r\n    // Рейтинг фильмов виводить с одним значением после точки(0.0)\r\n    changeMovieRating(filteredArray);\r\n    return filteredArray;\r\n  }\r\n\r\n  defineApiRequests() {\r\n    // Создаем объект запроса\r\n    const firstRequest = new ApiRequest(this.apiData.keyword);\r\n    const resArray = [];\r\n    // Рассчитываем какую страницу от API нужно запросить\r\n    firstRequest.apiPage = Math.ceil(\r\n      ((this.appCurrentPage - 1) * this.resultsPerPage + 1) /\r\n        API_RESULTS_PER_PAGE,\r\n    );\r\n    // Рассчитываем начиная с какого объекста из ответа API будем забирать инфо\r\n    firstRequest.filmIndex =\r\n      ((this.appCurrentPage - 1) * this.resultsPerPage) % API_RESULTS_PER_PAGE;\r\n\r\n    // Сколько фильмов из этой страницы API заберем (не больше this.resultsPerPage)\r\n    firstRequest.films =\r\n      firstRequest.filmIndex > API_RESULTS_PER_PAGE - this.resultsPerPage\r\n        ? API_RESULTS_PER_PAGE - firstRequest.filmIndex\r\n        : this.resultsPerPage;\r\n    // Добавляем созданный объект в массив данных для запроса\r\n    resArray.push(firstRequest);\r\n\r\n    // Если количество фильмов на странице будет меньше this.resultsPerPage - нам нужен второй запрос\r\n    if (firstRequest.films < this.resultsPerPage) {\r\n      const secondRequest = new ApiRequest(this.apiData.keyword);\r\n      secondRequest.apiPage = firstRequest.apiPage + 1;\r\n      secondRequest.filmIndex = 0;\r\n      secondRequest.films = this.resultsPerPage - firstRequest.films;\r\n      // Добавляем созданный объект в массив данных для запроса\r\n      resArray.push(secondRequest);\r\n    }\r\n    return resArray;\r\n  }\r\n\r\n  // По расширению экрана определить количество выводимых элементов\r\n  defineResultsPerPage() {\r\n    if (window.innerWidth >= 1024) return 9;\r\n    else if (window.innerWidth >= 768 && window.innerWidth < 1024) return 8;\r\n    else if (window.innerWidth < 768) return 4;\r\n  }\r\n\r\n  // Определить страницу нового расширения учитывая текущие элементы на странице\r\n\r\n  defineNewPageNumber() {\r\n    const updResults = this.defineResultsPerPage();\r\n    if (this.resultsPerPage === 0) this.resultsPerPage = updResults;\r\n    if (this.resultsPerPage !== updResults) {\r\n      // Индекс второго эл-та на текущей странице начиная с 1го (второго, потому что)\r\n      const currentPageElemId =\r\n        this.appCurrentPage * this.resultsPerPage - (this.resultsPerPage - 1);\r\n      // Определяем на какой странице с новым расширением будет первый элемент текущей страницы\r\n      const pageNumWithCurrElem = Math.ceil(currentPageElemId / updResults);\r\n      // Обновить номер текущей страницы\r\n      this.resultsPerPage = updResults;\r\n      return pageNumWithCurrElem;\r\n    }\r\n  }\r\n}\r\n","const favorSucsess = 'This movies has been added to favorites';\r\nconst favorWarn = 'This movie has already been added to favorites';\r\n\r\nconst templateNotyfi = message => {\r\n  return `<div class=\"notifycation__container\">\r\n    <p class=\"notifycation__title\">${message}</p>\r\n    </div>`;\r\n};\r\n\r\nexport function renderNotyfi(message) {\r\n  const btnWrapper = document.querySelector('.history-btn-wrapper');\r\n  btnWrapper.insertAdjacentHTML('beforeend', templateNotyfi(message));\r\n\r\n  const btnContainer = document.querySelector('.notifycation__container');\r\n  btnContainer.classList.add('notify-is-visible');\r\n\r\n  setTimeout(() => {\r\n    btnContainer.classList.remove('notify-is-visible');\r\n  }, 2000);\r\n\r\n  setTimeout(() => {\r\n    btnContainer.remove();\r\n  }, 3000);\r\n}\r\n\r\nexport function renderNotyfiWarn(message) {\r\n  const btnWrapper = document.querySelector('.history-btn-wrapper');\r\n  btnWrapper.insertAdjacentHTML('beforeend', templateNotyfi(message));\r\n\r\n  const btnContainer = document.querySelector('.notifycation__container');\r\n  const btnNotifyTItle = document.querySelector('.notifycation__title');\r\n\r\n  btnContainer.classList.add('notify-is-visible');\r\n  btnNotifyTItle.classList.add('warn');\r\n\r\n  setTimeout(() => {\r\n    btnContainer.classList.remove('notify-is-visible');\r\n  }, 2000);\r\n\r\n  setTimeout(() => {\r\n    btnContainer.remove();\r\n  }, 3000);\r\n}\r\n\r\nexport function resetNotify() {\r\n  const btnContainer = document.querySelector('.notifycation__container');\r\n  if (btnContainer) {\r\n    btnContainer.remove();\r\n  }\r\n}\r\n","export function checkWatchedBtn() {\r\n  const addToListBtnRef = document.querySelector('.btn-watched');\r\n    if (isIDAlreadyInList('watched', addToListBtnRef.dataset.action)) {\r\n        changeBtnText('watched', 'remove');\r\n        disableButton('favorite');\r\n    }\r\n    else {\r\n        changeBtnText('watched', 'add');\r\n        enableButton('favorite');\r\n    }\r\n}\r\n\r\n\r\nexport function checkFavoriteBtn() {\r\n  const addToListBtnRef = document.querySelector('.btn-favorite');\r\n  if (isIDAlreadyInList('favorite', addToListBtnRef.dataset.action))\r\n  {\r\n      changeBtnText('favorite', 'remove');\r\n      disableButton('watched');\r\n  }\r\n  else {\r\n      changeBtnText('favorite', 'add');\r\n      enableButton('watched');\r\n  }\r\n}\r\n\r\nfunction getList(list) {\r\n    const reqList = localStorage.getItem(list);\r\n    const parse = JSON.parse(reqList);\r\n    if (parse === null) return;\r\n    return parse;\r\n}\r\n\r\n// Проверить объект уже в списке\r\nfunction isIDAlreadyInList(list, id) {\r\n    const data = getList(list);\r\n    if (data !== null && data.id.indexOf(id) !== -1) return true;\r\n   return false;\r\n}\r\n\r\nexport function disableButton(button) {\r\n    const btnRef = getBtnRef(button);\r\n    btnRef.classList.add('inactive');\r\n    btnRef.disabled = true;\r\n}\r\n\r\nexport function enableButton(button) {\r\n    const btnRef = getBtnRef(button);\r\n    btnRef.classList.remove('inactive');\r\n    btnRef.disabled = false;\r\n}\r\n\r\n\r\nfunction getBtnRef(button) {\r\n    if (button === 'favorite') return document.querySelector('.btn-favorite');\r\n    else if (button === 'watched') return document.querySelector('.btn-watched');\r\n}\r\n\r\n\r\nexport function changeBtnText(list, mode) {\r\n    if (list === 'watched') {\r\n        const refWatchedBtn = document.querySelector('.btn-watched');\r\n        if (mode === 'remove') refWatchedBtn.innerHTML = `REMOVE FROM WATCHED`;\r\n        else if (mode === 'add') refWatchedBtn.innerHTML = `ADD TO WATCHED`;   \r\n        textAnimation(refWatchedBtn);\r\n    } else if (list === 'favorite'){\r\n        const refWatchedBtn = document.querySelector('.btn-favorite');\r\n        if (mode === 'remove') refWatchedBtn.innerHTML = `REMOVE FROM QUEUE`;\r\n        else if (mode === 'add') refWatchedBtn.innerHTML = `ADD TO QUEUE`;\r\n        textAnimation(refWatchedBtn);\r\n    }    \r\n}\r\n\r\n\r\nfunction textAnimation(btnRef) {   \r\n    const strText = btnRef.textContent;\r\n    const splitText = strText.split(\"\");\r\n    btnRef.textContent = \"\";\r\n    for (let i = 0; i < splitText.length; i++) {\r\n        btnRef.innerHTML += `<span class=\"btn-text\">${splitText[i]}</span>`;\r\n    }\r\n    let char = 0;\r\n    let timer = setInterval(onTick, 50);\r\n    \r\n    function onTick() {\r\n        const span = btnRef.querySelectorAll('.btn-text')[char];\r\n        if (span) {\r\n            span.classList.add('fade');\r\n            char++\r\n            if (char === splitText.length) {\r\n                complete();\r\n                return;\r\n            }\r\n        } else return;\r\n        \r\n    }\r\n\r\n    function complete() {\r\n        clearInterval(timer);\r\n        timer = null;\r\n        const span =  Array.from(btnRef.querySelectorAll('.btn-text'));\r\n        const spanSplit = span.map(item => item.innerHTML);\r\n        btnRef.innerHTML = spanSplit.join('');\r\n    }\r\n}\r\n\r\n\r\n","import { renderNotyfi, renderNotyfiWarn, resetNotify } from './notification.js';\r\nimport refs from './refs.js';\r\nimport { checkWatchedBtn, disableButton, enableButton } from './btn-ctrl';\r\n\r\nconst deleteFn = () =>\r\n  `<span class=\"delete-btn hidden-delete\"> <svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" class=\"am_Error_Icon\"> <path class=\"am_SVG_circle\" d=\"m444.34693,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\"></path> <line class=\"am_SVG_error1\" y2=\"390\" x2=\"390\" y1=\"110\" x1=\"110\"></line> <line class=\"am_SVG_error2\" y2=\"390\" x2=\"110\" y1=\"110\" x1=\"390\"></line> </svg></span>`;\r\n\r\nconst success = () =>\r\n  `<span class=\"success-btn hidden-success\"> <svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" class=\"am_Success_Icon \"> <path class=\"am_SVG_circle\" d=\"m443.0136,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\"></path> <polyline class=\"am_SVG_check\" points=\"104.4892349243164,309.2001647949219 195.57406616210938,402.9600524902344 418.9292297363281,85.03718566894531 \"></polyline> </svg></span>`;\r\nlet deleteInterval = null;\r\nlet successInterval = null;\r\n\r\nconst favorSucsess = 'Movies has been added to watched';\r\nconst favorWarn = 'Movie has been removed from watched';\r\n\r\nexport function addWatchedFilm() {\r\n  checkWatchedBtn();\r\n  const lightboxDiv = document.querySelector('.container_modal');\r\n  lightboxDiv.addEventListener('click', handlerAddToLs);\r\n}\r\nfunction handlerAddToLs(e) {\r\n  if (e.target.classList.contains('btn-watched')) {\r\n    console.log('watched');\r\n    const id = e.target.dataset.action;\r\n    getSaveData(id, e);\r\n  }\r\n}\r\n\r\nfunction getSaveData(idEl, e) {\r\n  const parseObj = getObject();\r\n  const obj = {\r\n    id: [],\r\n  };\r\n\r\n  // Если данных нет, то запушить в новый объект с массивом первый ID.\r\n  if (parseObj === null) {\r\n    resetNotify();\r\n    renderNotyfi(favorSucsess);\r\n    obj.id.push(idEl);\r\n    pushToLs(obj);\r\n    return;\r\n  }\r\n\r\n  // Если данные есть, то проверить на уникальность добавляемого элемента.\r\n  getUniqueId(parseObj, idEl, e);\r\n}\r\n\r\n// Проверка при клике на кнопку, если добавляемый фильм уже есть в массиве.\r\nfunction getUniqueId({ id }, idEl, e) {\r\n  if (id.includes(idEl)) {\r\n    resetNotify();\r\n    renderNotyfiWarn(favorWarn);\r\n    if (id.indexOf(idEl) !== -1) id.splice(id.indexOf(idEl), 1);\r\n    const obj = {\r\n      id: id,\r\n    };\r\n    clearInterval(successInterval);\r\n    clearInterval(deleteInterval);\r\n    enableButton('favorite');\r\n    e.target.innerHTML = deleteFn();\r\n    const btnDelete = document.querySelector('.delete-btn');\r\n    btnDelete.classList.remove('hidden-delete');\r\n    deleteTimer(e);\r\n    updLS(obj);\r\n    return;\r\n  }\r\n  resetNotify();\r\n  renderNotyfi(favorSucsess);\r\n   disableButton('favorite');\r\n  clearInterval(successInterval);\r\n  clearInterval(deleteInterval);\r\n  e.target.innerHTML = success();\r\n  const btnSuccess = document.querySelector('.success-btn');\r\n  btnSuccess.classList.remove('hidden-success');\r\n  successTimer(btnSuccess, e);\r\n\r\n  const parseObj = getObject();\r\n  parseObj.id.push(idEl);\r\n  pushToLs(parseObj);\r\n  // changeBtnText('watched', 'remove');\r\n}\r\n\r\n// Забирает данные с LS\r\nfunction getObject() {\r\n  const save = localStorage.getItem('watched');\r\n  const parse = JSON.parse(save);\r\n  return parse;\r\n}\r\n\r\n// Пушит объект в LS\r\nfunction pushToLs(obj) {\r\n  const str = JSON.stringify(obj);\r\n  localStorage.setItem('watched', str);\r\n}\r\n\r\n// Обновляет LS\r\nfunction updLS(obj) {\r\n  localStorage.removeItem('watched');\r\n  const str = JSON.stringify(obj);\r\n  localStorage.setItem('watched', str);\r\n}\r\n\r\nfunction successTimer(btnSuccess, e) {\r\n  successInterval = setTimeout(() => {\r\n    console.dir(e.target);\r\n    e.target.textContent = 'ADD TO QUEUE';\r\n    btnSuccess.classList.add('hidden-success');\r\n  }, 4000);\r\n}\r\nfunction deleteTimer(e) {\r\n  deleteInterval = setTimeout(() => {\r\n    e.target.textContent = 'ADD TO QUEUE';\r\n    // btnDelete.classList.add('hidden-success');\r\n  }, 4000);\r\n}\r\n","import refs from './refs.js';\r\nimport { renderNotyfi, renderNotyfiWarn, resetNotify } from './notification.js';\r\nimport { checkFavoriteBtn, disableButton, enableButton } from './btn-ctrl';\r\n\r\nconst deleteFn = () =>\r\n  `<span class=\"delete-btn hidden-delete\"> <svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" class=\"am_Error_Icon\"> <path class=\"am_SVG_circle\" d=\"m444.34693,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\"></path> <line class=\"am_SVG_error1\" y2=\"390\" x2=\"390\" y1=\"110\" x1=\"110\"></line> <line class=\"am_SVG_error2\" y2=\"390\" x2=\"110\" y1=\"110\" x1=\"390\"></line> </svg></span>`;\r\n\r\nconst success = () =>\r\n  `<span class=\"success-btn hidden-success\"> <svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" class=\"am_Success_Icon \"> <path class=\"am_SVG_circle\" d=\"m443.0136,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\"></path> <polyline class=\"am_SVG_check\" points=\"104.4892349243164,309.2001647949219 195.57406616210938,402.9600524902344 418.9292297363281,85.03718566894531 \"></polyline> </svg></span>`;\r\nlet deleteInterval = null;\r\nlet successInterval = null;\r\n\r\nexport function addFavoriteFilm() {\r\n  checkFavoriteBtn();\r\n\r\n  const lightboxDiv = document.querySelector('.container_modal');\r\n  lightboxDiv.addEventListener('click', handlerAddToLs);\r\n}\r\n\r\nconst favorSucsess = 'Movies has been added to favorite';\r\nconst favorWarn = 'Movie has been removed from favorite';\r\n\r\nfunction handlerAddToLs(e) {\r\n  if (e.target.classList.contains('btn-favorite')) {\r\n    const id = e.target.dataset.action;\r\n    getSaveData(id, e);\r\n  }\r\n}\r\n\r\nfunction getSaveData(idEl, e) {\r\n  const parseObj = getObject();\r\n  const obj = {\r\n    id: [],\r\n  };\r\n\r\n  // Если данных нет, то запушить в новый объект с массивом первый ID.\r\n  if (parseObj === null) {\r\n    resetNotify();\r\n    renderNotyfi(favorSucsess);\r\n    obj.id.push(idEl);\r\n    pushToLs(obj);\r\n    return;\r\n  }\r\n\r\n  // Если данные есть, то проверить на уникальность добавляемого элемента.\r\n  getUniqueId(parseObj, idEl, e);\r\n}\r\n\r\n// Проверка при клике на кнопку, если добавляемый фильм уже есть в массиве.\r\nfunction getUniqueId({ id }, idEl, e) {\r\n  if (id.includes(idEl)) {\r\n    resetNotify();\r\n    renderNotyfiWarn(favorWarn);\r\n    clearInterval(successInterval);\r\n    clearInterval(deleteInterval);\r\n    e.target.innerHTML = deleteFn();\r\n    const btnDelete = document.querySelector('.delete-btn');\r\n    btnDelete.classList.remove('hidden-delete');\r\n    enableButton('watched');\r\n    deleteTimer(e);\r\n    if (id.indexOf(idEl) !== -1) id.splice(id.indexOf(idEl), 1);\r\n    const obj = {\r\n      id: id,\r\n    };\r\n    updLS(obj);\r\n    return;\r\n  }\r\n  resetNotify();\r\n  renderNotyfi(favorSucsess);\r\n  disableButton('watched');\r\n  clearInterval(successInterval);\r\n  clearInterval(deleteInterval);\r\n  e.target.innerHTML = success();\r\n  const btnSuccess = document.querySelector('.success-btn');\r\n  btnSuccess.classList.remove('hidden-success');\r\n  successTimer(btnSuccess, e);\r\n\r\n  const parseObj = getObject();\r\n  parseObj.id.push(idEl);\r\n  pushToLs(parseObj);\r\n}\r\n\r\n// Забирает данные с LS\r\nfunction getObject() {\r\n  const save = localStorage.getItem('favorite');\r\n  const parse = JSON.parse(save);\r\n  return parse;\r\n}\r\n\r\n// Пушит объект в LS\r\nfunction pushToLs(obj) {\r\n  const str = JSON.stringify(obj);\r\n  localStorage.setItem('favorite', str);\r\n}\r\n\r\n// Обновляет LS\r\nfunction updLS(obj) {\r\n  localStorage.removeItem('favorite');\r\n  const str = JSON.stringify(obj);\r\n  localStorage.setItem('favorite', str);\r\n}\r\n\r\nfunction successTimer(btnSuccess, e) {\r\n  successInterval = setTimeout(() => {\r\n    console.dir(e.target);\r\n    e.target.textContent = 'ADD TO QUEUE';\r\n    btnSuccess.classList.add('hidden-success');\r\n  }, 4000);\r\n}\r\nfunction deleteTimer(e) {\r\n  deleteInterval = setTimeout(() => {\r\n    e.target.textContent = 'ADD TO QUEUE';\r\n    // btnDelete.classList.add('hidden-success');\r\n  }, 4000);\r\n}\r\n","import refs from '../refs';\r\n\r\nexport function listenScroll() {\r\n    if (window.innerWidth >= 1024) {\r\n      if (window.scrollY > 600) {\r\n        refs.upButton.style.opacity = 1;\r\n        refs.upButton.disabled = false;\r\n      }\r\n      else {\r\n        refs.upButton.style.opacity = 0;\r\n        refs.upButton.disabled = true;\r\n      }\r\n    }\r\n}\r\n  \r\nexport function scrollUp() {\r\n  if (refs.upButton) {\r\n  refs.upButton.addEventListener('click', event => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n      });\r\n    });\r\n  }\r\n}","/*\r\n * pagination.js 2.1.5\r\n * A jQuery plugin to provide simple yet fully customisable pagination.\r\n * https://github.com/superRaytin/paginationjs\r\n *\r\n * Homepage: http://pagination.js.org\r\n *\r\n * Copyright 2014-2100, superRaytin\r\n * Released under the MIT license.\r\n */\r\nimport { paginateObj } from '../toPaginateWithApi';\r\n\r\n(function (global, $) {\r\n  \r\n  if (typeof $ === 'undefined') {\r\n    throwError('Pagination requires jQuery.');\r\n  }\r\n\r\n  var pluginName = 'pagination';\r\n\r\n  var pluginHookMethod = 'addHook';\r\n\r\n  var eventPrefix = '__pagination-';\r\n\r\n  // Conflict, use backup\r\n  if ($.fn.pagination) {\r\n    pluginName = 'pagination2';\r\n  }\r\n\r\n  $.fn[pluginName] = function(options) {\r\n\r\n    if (typeof options === 'undefined') {\r\n      return this;\r\n    }\r\n\r\n    var container = $(this);\r\n\r\n    var attributes = $.extend({}, $.fn[pluginName].defaults, options);\r\n\r\n    var pagination = {\r\n\r\n      initialize: function() {\r\n        var self = this;\r\n\r\n        // Cache attributes of current instance\r\n        if (!container.data('pagination')) {\r\n          container.data('pagination', {});\r\n        }\r\n\r\n        if (self.callHook('beforeInit') === false) return;\r\n\r\n        // Pagination has been initialized, destroy it\r\n        if (container.data('pagination').initialized) {\r\n          $('.paginationjs', container).remove();\r\n        }\r\n\r\n        // Whether to disable Pagination at the initialization\r\n        self.disabled = !!attributes.disabled;\r\n\r\n        // Model will be passed to the callback function\r\n        var model = self.model = {\r\n          pageRange: attributes.pageRange,\r\n          pageSize: attributes.pageSize\r\n        };\r\n\r\n        // dataSource`s type is unknown, parse it to find true data\r\n        self.parseDataSource(attributes.dataSource, function(dataSource) {\r\n\r\n          // Currently in asynchronous mode\r\n          self.isAsync = Helpers.isString(dataSource);\r\n            if (Helpers.isArray(dataSource)) {\r\n            model.totalNumber = attributes.totalNumber = dataSource.length;\r\n          }\r\n\r\n          // Currently in asynchronous mode and a totalNumberLocator is specified\r\n          self.isDynamicTotalNumber = self.isAsync && attributes.totalNumberLocator;\r\n\r\n          var el = self.render(true);\r\n\r\n          // Add extra className to the pagination element\r\n            if (attributes.className) {\r\n            el.addClass(attributes.className);\r\n          }\r\n\r\n          model.el = el;\r\n\r\n          // Append/prepend pagination element to the container\r\n          container[attributes.position === 'bottom' ? 'append' : 'prepend'](el);\r\n\r\n          // Bind events\r\n          self.observer();\r\n\r\n          // Pagination is currently initialized\r\n          container.data('pagination').initialized = true;\r\n\r\n          // Will be invoked after initialized\r\n          self.callHook('afterInit', el);\r\n        });\r\n      },\r\n\r\n      render: function(isBoot) {\r\n        var self = this;\r\n        var model = self.model;\r\n        var el = model.el || $('<div class=\"paginationjs\"></div>');\r\n        var isForced = isBoot !== true;\r\n\r\n        self.callHook('beforeRender', isForced);\r\n\r\n        var currentPage = model.pageNumber || attributes.pageNumber;\r\n        var pageRange = attributes.pageRange || 0;\r\n        // var totalPage = self.getTotalPage();\r\n        // var totalPage = dataProccessing.getAppPages;\r\n        var totalPage = paginateObj.getTotalAppPages();\r\n\r\n         var rangeStart = currentPage - pageRange;\r\n        var rangeEnd = currentPage + pageRange;\r\n\r\n        if (rangeEnd > totalPage) {\r\n          rangeEnd = totalPage;\r\n          rangeStart = totalPage - pageRange * 2;\r\n          rangeStart = rangeStart < 1 ? 1 : rangeStart;\r\n        }\r\n\r\n        if (rangeStart <= 1) {\r\n          rangeStart = 1;\r\n          rangeEnd = Math.min(pageRange * 2 + 1, totalPage);\r\n        }\r\n\r\n        el.html(self.generateHTML({\r\n          currentPage: currentPage,\r\n          pageRange: pageRange,\r\n          rangeStart: rangeStart,\r\n          rangeEnd: rangeEnd\r\n        }));\r\n\r\n        // There is only one page\r\n        if (attributes.hideWhenLessThanOnePage) {\r\n          el[totalPage <= 1 ? 'hide' : 'show']();\r\n        }\r\n\r\n        self.callHook('afterRender', isForced);\r\n\r\n        return el;\r\n      },\r\n\r\n      // Generate HTML of the pages\r\n      generatePageNumbersHTML: function(args) {\r\n        var self = this;\r\n        var currentPage = args.currentPage;\r\n        // var totalPage = self.getTotalPage();\r\n        // var totalPage = dataProccessing.getAppPages;\r\n        var totalPage = paginateObj.getTotalAppPages();\r\n        var rangeStart = args.rangeStart;\r\n        var rangeEnd = args.rangeEnd;\r\n        var html = '';\r\n        var i;\r\n\r\n        var pageLink = attributes.pageLink;\r\n        var ellipsisText = attributes.ellipsisText;\r\n\r\n        var classPrefix = attributes.classPrefix;\r\n        var activeClassName = attributes.activeClassName;\r\n        var disableClassName = attributes.disableClassName;\r\n\r\n        // Disable page range, display all the pages\r\n        if (attributes.pageRange === null) {\r\n          for (i = 1; i <= totalPage; i++) {\r\n            if (i == currentPage) {\r\n              html += '<li class=\"' + classPrefix + '-page J-paginationjs-page ' + activeClassName + '\" data-num=\"' + i + '\"><a>' + i + '<\\/a><\\/li>';\r\n            } else {\r\n              html += '<li class=\"' + classPrefix + '-page J-paginationjs-page\" data-num=\"' + i + '\"><a href=\"' + pageLink + '\">' + i + '<\\/a><\\/li>';\r\n            }\r\n          }\r\n          return html;\r\n        }\r\n\r\n        if (rangeStart <= 3) {\r\n          for (i = 1; i < rangeStart; i++) {\r\n            if (i == currentPage) {\r\n              html += '<li class=\"' + classPrefix + '-page J-paginationjs-page ' + activeClassName + '\" data-num=\"' + i + '\"><a>' + i + '<\\/a><\\/li>';\r\n            } else {\r\n              html += '<li class=\"' + classPrefix + '-page J-paginationjs-page\" data-num=\"' + i + '\"><a href=\"' + pageLink + '\">' + i + '<\\/a><\\/li>';\r\n            }\r\n          }\r\n        } else {\r\n          if (attributes.showFirstOnEllipsisShow) {\r\n            html += '<li class=\"' + classPrefix + '-page ' + classPrefix + '-first J-paginationjs-page\" data-num=\"1\"><a href=\"' + pageLink + '\">1<\\/a><\\/li>';\r\n          }\r\n          html += '<li class=\"' + classPrefix + '-ellipsis ' + disableClassName + '\"><a>' + ellipsisText + '<\\/a><\\/li>';\r\n        }\r\n\r\n        for (i = rangeStart; i <= rangeEnd; i++) {\r\n          if (i == currentPage) {\r\n            html += '<li class=\"' + classPrefix + '-page J-paginationjs-page ' + activeClassName + '\" data-num=\"' + i + '\"><a>' + i + '<\\/a><\\/li>';\r\n          } else {\r\n            html += '<li class=\"' + classPrefix + '-page J-paginationjs-page\" data-num=\"' + i + '\"><a href=\"' + pageLink + '\">' + i + '<\\/a><\\/li>';\r\n          }\r\n        }\r\n\r\n        if (rangeEnd >= totalPage - 2) {\r\n          for (i = rangeEnd + 1; i <= totalPage; i++) {\r\n            html += '<li class=\"' + classPrefix + '-page J-paginationjs-page\" data-num=\"' + i + '\"><a href=\"' + pageLink + '\">' + i + '<\\/a><\\/li>';\r\n          }\r\n        } else {\r\n          html += '<li class=\"' + classPrefix + '-ellipsis ' + disableClassName + '\"><a>' + ellipsisText + '<\\/a><\\/li>';\r\n\r\n          if (attributes.showLastOnEllipsisShow) {\r\n            html += '<li class=\"' + classPrefix + '-page ' + classPrefix + '-last J-paginationjs-page\" data-num=\"' + totalPage + '\"><a href=\"' + pageLink + '\">' + totalPage + '<\\/a><\\/li>';\r\n          }\r\n        }\r\n\r\n        return html;\r\n      },\r\n\r\n      // Generate HTML content from the template\r\n      generateHTML: function(args) {\r\n        var self = this;\r\n        var currentPage = args.currentPage;\r\n        // var totalPage = self.getTotalPage();\r\n        // var totalPage = dataProccessing.getAppPages;\r\n        var totalPage = paginateObj.getTotalAppPages();\r\n        var totalNumber = self.getTotalNumber();\r\n        \r\n        // var totalNumber = dataProccessing.getData.length;\r\n        // var totalNumber = 2340;\r\n\r\n        var showPrevious = attributes.showPrevious;\r\n        var showNext = attributes.showNext;\r\n        var showPageNumbers = attributes.showPageNumbers;\r\n        var showNavigator = attributes.showNavigator;\r\n        var showGoInput = attributes.showGoInput;\r\n        var showGoButton = attributes.showGoButton;\r\n\r\n        var pageLink = attributes.pageLink;\r\n        var prevText = attributes.prevText;\r\n        var nextText = attributes.nextText;\r\n        var goButtonText = attributes.goButtonText;\r\n\r\n        var classPrefix = attributes.classPrefix;\r\n        var disableClassName = attributes.disableClassName;\r\n        var ulClassName = attributes.ulClassName;\r\n\r\n        var html = '';\r\n        var goInput = '<input type=\"text\" class=\"J-paginationjs-go-pagenumber\">';\r\n        var goButton = '<input type=\"button\" class=\"J-paginationjs-go-button\" value=\"' + goButtonText + '\">';\r\n        var formattedString;\r\n\r\n        var formatNavigator = $.isFunction(attributes.formatNavigator) ? attributes.formatNavigator(currentPage, totalPage, totalNumber) : attributes.formatNavigator;\r\n        var formatGoInput = $.isFunction(attributes.formatGoInput) ? attributes.formatGoInput(goInput, currentPage, totalPage, totalNumber) : attributes.formatGoInput;\r\n        var formatGoButton = $.isFunction(attributes.formatGoButton) ? attributes.formatGoButton(goButton, currentPage, totalPage, totalNumber) : attributes.formatGoButton;\r\n\r\n        var autoHidePrevious = $.isFunction(attributes.autoHidePrevious) ? attributes.autoHidePrevious() : attributes.autoHidePrevious;\r\n        var autoHideNext = $.isFunction(attributes.autoHideNext) ? attributes.autoHideNext() : attributes.autoHideNext;\r\n\r\n        var header = $.isFunction(attributes.header) ? attributes.header(currentPage, totalPage, totalNumber) : attributes.header;\r\n        var footer = $.isFunction(attributes.footer) ? attributes.footer(currentPage, totalPage, totalNumber) : attributes.footer;\r\n\r\n        // Whether to display header\r\n        if (header) {\r\n          formattedString = self.replaceVariables(header, {\r\n            currentPage: currentPage,\r\n            totalPage: totalPage,\r\n            totalNumber: totalNumber\r\n          });\r\n          html += formattedString;\r\n        }\r\n\r\n        if (showPrevious || showPageNumbers || showNext) {\r\n          html += '<div class=\"paginationjs-pages\">';\r\n\r\n          if (ulClassName) {\r\n            html += '<ul class=\"' + ulClassName + '\">';\r\n          } else {\r\n            html += '<ul>';\r\n          }\r\n\r\n          // Whether to display the Previous button\r\n          if (showPrevious) {\r\n            if (currentPage <= 1) {\r\n              if (!autoHidePrevious) {\r\n                html += '<li class=\"' + classPrefix + '-prev ' + disableClassName + '\"><a>' + prevText + '<\\/a><\\/li>';\r\n              }\r\n            } else {\r\n              html += '<li class=\"' + classPrefix + '-prev J-paginationjs-previous\" data-num=\"' + (currentPage - 1) + '\" title=\"Previous page\"><a href=\"\">' + pageLink  + prevText + '<\\/a><\\/li>';\r\n            }\r\n          }\r\n\r\n          // Whether to display the pages\r\n          if (showPageNumbers) {\r\n            html += self.generatePageNumbersHTML(args);\r\n          }\r\n\r\n          // Whether to display the Next button\r\n          if (showNext) {\r\n            if (currentPage >= totalPage) {\r\n              if (!autoHideNext) {\r\n                html += '<li class=\"' + classPrefix + '-next ' + disableClassName + '\"><a>' + nextText + '<\\/a><\\/li>';\r\n              }\r\n            } else {\r\n              html += '<li class=\"' + classPrefix + '-next J-paginationjs-next\" data-num=\"' + (currentPage + 1) + '\" title=\"Next page\"><a href=\"' + pageLink + '\">' + nextText + '<\\/a><\\/li>';\r\n            }\r\n          }\r\n          html += '<\\/ul><\\/div>';\r\n        }\r\n\r\n        // Whether to display the navigator\r\n        if (showNavigator) {\r\n          if (formatNavigator) {\r\n            formattedString = self.replaceVariables(formatNavigator, {\r\n              currentPage: currentPage,\r\n              totalPage: totalPage,\r\n              totalNumber: totalNumber\r\n            });\r\n            html += '<div class=\"' + classPrefix + '-nav J-paginationjs-nav\">' + formattedString + '<\\/div>';\r\n          }\r\n        }\r\n\r\n        // Whether to display the Go input\r\n        if (showGoInput) {\r\n          if (formatGoInput) {\r\n            formattedString = self.replaceVariables(formatGoInput, {\r\n              currentPage: currentPage,\r\n              totalPage: totalPage,\r\n              totalNumber: totalNumber,\r\n              input: goInput\r\n            });\r\n            html += '<div class=\"' + classPrefix + '-go-input\">' + formattedString + '</div>';\r\n          }\r\n        }\r\n\r\n        // Whether to display the Go button\r\n        if (showGoButton) {\r\n          if (formatGoButton) {\r\n            formattedString = self.replaceVariables(formatGoButton, {\r\n              currentPage: currentPage,\r\n              totalPage: totalPage,\r\n              totalNumber: totalNumber,\r\n              button: goButton\r\n            });\r\n            html += '<div class=\"' + classPrefix + '-go-button\">' + formattedString + '</div>';\r\n          }\r\n        }\r\n\r\n        // Whether to display footer\r\n        if (footer) {\r\n          formattedString = self.replaceVariables(footer, {\r\n            currentPage: currentPage,\r\n            totalPage: totalPage,\r\n            totalNumber: totalNumber\r\n          });\r\n          html += formattedString;\r\n        }\r\n\r\n        return html;\r\n      },\r\n\r\n      // Find totalNumber from the remote response\r\n      // Only available in asynchronous mode\r\n      findTotalNumberFromRemoteResponse: function(response) {\r\n        var self = this;\r\n        self.model.totalNumber = attributes.totalNumberLocator(response);\r\n      },\r\n\r\n      // Go to the specified page\r\n      go: function(number, callback) {\r\n        var self = this;\r\n        var model = self.model;\r\n\r\n        if (self.disabled) return;\r\n\r\n        var pageNumber = number;\r\n        pageNumber = parseInt(pageNumber);\r\n       \r\n        // Page number is out of bounds\r\n        if (!pageNumber || pageNumber < 1) return;\r\n\r\n        var pageSize = attributes.pageSize;\r\n        var totalNumber = self.getTotalNumber();\r\n        // var totalPage = self.getTotalPage();\r\n        // var totalPage = dataProccessing.getAppPages;\r\n        var totalPage = paginateObj.getTotalAppPages();\r\n        // Page number is out of bounds\r\n        if (totalNumber > 0) {\r\n          if (pageNumber > totalPage) return;\r\n        }\r\n\r\n        // Pick data fragment in synchronous mode\r\n        if (!self.isAsync) {\r\n          render(self.getDataFragment(pageNumber));\r\n          return;\r\n        }\r\n\r\n        var postData = {};\r\n        var alias = attributes.alias || {};\r\n        postData[alias.pageSize ? alias.pageSize : 'pageSize'] = pageSize;\r\n        postData[alias.pageNumber ? alias.pageNumber : 'pageNumber'] = pageNumber;\r\n\r\n        // var ajaxParams = $.isFunction(attributes.ajax) ? attributes.ajax() : attributes.ajax;\r\n        // var formatAjaxParams = {\r\n        //   type: 'get',\r\n        //   cache: false,\r\n        //   data: {},\r\n        //   contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\r\n        //   dataType: 'json',\r\n        //   async: true\r\n        // };\r\n\r\n        // $.extend(true, formatAjaxParams, ajaxParams);\r\n        // $.extend(formatAjaxParams.data, postData);\r\n\r\n        // formatAjaxParams.url = attributes.dataSource;\r\n        // formatAjaxParams.success = function(response) {\r\n        //   if (self.isDynamicTotalNumber) {\r\n        //     self.findTotalNumberFromRemoteResponse(response);\r\n        //   } else {\r\n        //     self.model.totalNumber = attributes.totalNumber;\r\n        //   }\r\n\r\n        //   var finalData = self.filterDataByLocator(response);\r\n        //   render(finalData);\r\n        // };\r\n        //  var finalData =   data;\r\n        //  render(finalData);\r\n        // };\r\n        // formatAjaxParams.error = function(jqXHR, textStatus, errorThrown) {\r\n        //   attributes.formatAjaxError && attributes.formatAjaxError(jqXHR, textStatus, errorThrown);\r\n        //   self.enable();\r\n        // };\r\n\r\n        self.disable();\r\n\r\n        // $.ajax(formatAjaxParams);\r\n\r\n        paginateObj.chooseFn(pageNumber)\r\n         .then(data => {\r\n          var finalData = data;\r\n          render(finalData);\r\n          return;\r\n        });\r\n\r\n          function render(data) {\r\n            // Will be invoked before paging\r\n            if (self.callHook('beforePaging', pageNumber) === false) return false;\r\n\r\n            // Pagination direction\r\n            model.direction = typeof model.pageNumber === 'undefined' ? 0 : (pageNumber > model.pageNumber ? 1 : -1);\r\n\r\n            model.pageNumber = pageNumber;\r\n\r\n            self.render();\r\n\r\n            if (self.disabled && self.isAsync) {\r\n              // enable pagination\r\n              self.enable();\r\n            }\r\n\r\n          \r\n          // cache model data\r\n          container.data('pagination').model = model;\r\n\r\n          // format result data before callback invoked\r\n          if (attributes.formatResult) {\r\n            var cloneData = $.extend(true, [], data);\r\n            if (!Helpers.isArray(data = attributes.formatResult(cloneData))) {\r\n              data = cloneData;\r\n            }\r\n          }\r\n\r\n          container.data('pagination').currentPageData = data;\r\n\r\n          // invoke callback\r\n          self.doCallback(data, callback);\r\n\r\n          self.callHook('afterPaging', pageNumber);\r\n\r\n          // pageNumber now is the first page\r\n          if (pageNumber == 1) {\r\n            self.callHook('afterIsFirstPage');\r\n          }\r\n\r\n          // pageNumber now is the last page\r\n          // if (pageNumber == self.getTotalPage()) {\r\n            // if (pageNumber == dataProccessing.getAppPages) { \r\n               if (pageNumber == paginateObj.getTotalAppPages()) { \r\n                         self.callHook('afterIsLastPage');\r\n          }\r\n        }\r\n      },\r\n\r\n      doCallback: function(data, customCallback) {\r\n        var self = this;\r\n        var model = self.model;\r\n\r\n        if ($.isFunction(customCallback)) {\r\n          customCallback(data, model);\r\n        } else if ($.isFunction(attributes.callback)) {\r\n          attributes.callback(data, model);\r\n        }\r\n      },\r\n\r\n      destroy: function() {\r\n        // Before destroy\r\n        if (this.callHook('beforeDestroy') === false) return;\r\n\r\n        this.model.el.remove();\r\n        container.off();\r\n\r\n        // Remove style element\r\n        $('#paginationjs-style').remove();\r\n\r\n        // After destroyed\r\n        this.callHook('afterDestroy');\r\n      },\r\n\r\n      previous: function(callback) {\r\n        this.go(this.model.pageNumber - 1, callback);\r\n      },\r\n\r\n      next: function(callback) {\r\n        this.go(this.model.pageNumber + 1, callback);\r\n      },\r\n\r\n      disable: function() {\r\n        var self = this;\r\n        var source = self.isAsync ? 'async' : 'sync';\r\n\r\n        // Before disabled\r\n        if (self.callHook('beforeDisable', source) === false) return;\r\n\r\n        self.disabled = true;\r\n        self.model.disabled = true;\r\n\r\n        // After disabled\r\n        self.callHook('afterDisable', source);\r\n      },\r\n\r\n      enable: function() {\r\n        var self = this;\r\n        var source = self.isAsync ? 'async' : 'sync';\r\n\r\n        // Before enabled\r\n        if (self.callHook('beforeEnable', source) === false) return;\r\n\r\n        self.disabled = false;\r\n        self.model.disabled = false;\r\n\r\n        // After enabled\r\n        self.callHook('afterEnable', source);\r\n      },\r\n\r\n      refresh: function(callback) {\r\n        this.go(this.model.pageNumber, callback);\r\n      },\r\n\r\n      show: function() {\r\n        var self = this;\r\n\r\n        if (self.model.el.is(':visible')) return;\r\n\r\n        self.model.el.show();\r\n      },\r\n\r\n      hide: function() {\r\n        var self = this;\r\n\r\n        if (!self.model.el.is(':visible')) return;\r\n\r\n        self.model.el.hide();\r\n      },\r\n\r\n      // Parse variables in the template\r\n      replaceVariables: function(template, variables) {\r\n        var formattedString;\r\n\r\n        for (var key in variables) {\r\n          var value = variables[key];\r\n          var regexp = new RegExp('<%=\\\\s*' + key + '\\\\s*%>', 'img');\r\n\r\n          formattedString = (formattedString || template).replace(regexp, value);\r\n        }\r\n\r\n        return formattedString;\r\n      },\r\n\r\n      // Get data fragment\r\n      getDataFragment: function(number) {\r\n        var pageSize = attributes.pageSize;\r\n        var dataSource = attributes.dataSource;\r\n        var totalNumber = this.getTotalNumber();\r\n\r\n        var start = pageSize * (number - 1) + 1;\r\n        var end = Math.min(number * pageSize, totalNumber);\r\n\r\n        return dataSource.slice(start - 1, end);\r\n      },\r\n\r\n      // Get total number\r\n      getTotalNumber: function() {\r\n        return this.model.totalNumber || attributes.totalNumber || 0;\r\n      },\r\n\r\n      // Get total page\r\n      // getTotalPage: function() {\r\n      //   return Math.ceil(this.getTotalNumber() / attributes.pageSize);\r\n      // },\r\n\r\n      // Get locator\r\n      getLocator: function(locator) {\r\n        var result;\r\n\r\n        if (typeof locator === 'string') {\r\n          result = locator;\r\n        } else if ($.isFunction(locator)) {\r\n          result = locator();\r\n        } else {\r\n          throwError('\"locator\" is incorrect. (String | Function)');\r\n        }\r\n\r\n        return result;\r\n      },\r\n\r\n      // Filter data by \"locator\"\r\n      filterDataByLocator: function(dataSource) {\r\n        var locator = this.getLocator(attributes.locator);\r\n        var filteredData;\r\n\r\n        // Datasource is an Object, use \"locator\" to locate the true data\r\n        if (Helpers.isObject(dataSource)) {\r\n          try {\r\n            $.each(locator.split('.'), function(index, item) {\r\n              filteredData = (filteredData ? filteredData : dataSource)[item];\r\n            });\r\n          }\r\n          catch (e) {\r\n          }\r\n\r\n          if (!filteredData) {\r\n            throwError('dataSource.' + locator + ' is undefined.');\r\n          } else if (!Helpers.isArray(filteredData)) {\r\n            throwError('dataSource.' + locator + ' must be an Array.');\r\n          }\r\n        }\r\n\r\n        return filteredData || dataSource;\r\n      },\r\n\r\n      // Parse dataSource\r\n      parseDataSource: function(dataSource, callback) {\r\n        var self = this;\r\n\r\n        if (Helpers.isObject(dataSource)) {\r\n          callback(attributes.dataSource = self.filterDataByLocator(dataSource));\r\n        } else if (Helpers.isArray(dataSource)) {\r\n          callback(attributes.dataSource = dataSource);\r\n        } else if ($.isFunction(dataSource)) {\r\n          attributes.dataSource(function(data) {\r\n            if (!Helpers.isArray(data)) {\r\n              throwError('The parameter of \"done\" Function should be an Array.');\r\n            }\r\n            self.parseDataSource.call(self, data, callback);\r\n          });\r\n        } else if (typeof dataSource === 'string') {\r\n          if (/^https?|file:/.test(dataSource)) {\r\n            attributes.ajaxDataType = 'jsonp';\r\n          }\r\n          \r\n            callback(dataSource);\r\n        } else {\r\n          throwError('Unexpected type of \"dataSource\".');\r\n        }\r\n      },\r\n\r\n        callHook: function (hook) {\r\n        \r\n        var paginationData = container.data('pagination');\r\n        var result;\r\n\r\n        var args = Array.prototype.slice.apply(arguments);\r\n        args.shift();\r\n\r\n        if (attributes[hook] && $.isFunction(attributes[hook])) {\r\n          if (attributes[hook].apply(global, args) === false) {\r\n            result = false;\r\n          }\r\n        }\r\n\r\n        if (paginationData.hooks && paginationData.hooks[hook]) {\r\n          $.each(paginationData.hooks[hook], function(index, item) {\r\n            if (item.apply(global, args) === false) {\r\n              result = false;\r\n            }\r\n          });\r\n        }\r\n\r\n        return result !== false;\r\n      },\r\n\r\n      observer: function() {\r\n        var self = this;\r\n        var el = self.model.el;\r\n\r\n        // Go to specified page number\r\n        container.on(eventPrefix + 'go', function(event, pageNumber, done) {\r\n          pageNumber = parseInt($.trim(pageNumber));\r\n\r\n          if (!pageNumber) return;\r\n\r\n          if (!$.isNumeric(pageNumber)) {\r\n            throwError('\"pageNumber\" is incorrect. (Number)');\r\n          }\r\n\r\n          self.go(pageNumber, done);\r\n        });\r\n\r\n        // Page number button click\r\n        el.delegate('.J-paginationjs-page', 'click', function(event) {\r\n          var current = $(event.currentTarget);\r\n          var pageNumber = $.trim(current.attr('data-num'));\r\n\r\n          if (!pageNumber || current.hasClass(attributes.disableClassName) || current.hasClass(attributes.activeClassName)) return;\r\n\r\n          // Before page button clicked\r\n          if (self.callHook('beforePageOnClick', event, pageNumber) === false) return false;\r\n\r\n          self.go(pageNumber);\r\n\r\n          // After page button clicked\r\n          self.callHook('afterPageOnClick', event, pageNumber);\r\n\r\n          window.scrollTo({\r\n              top: 200,\r\n              behavior: \"smooth\"\r\n          });\r\n\r\n          if (!attributes.pageLink) return false;\r\n        });\r\n\r\n        // Previous button click\r\n        el.delegate('.J-paginationjs-previous', 'click', function(event) {\r\n          var current = $(event.currentTarget);\r\n          var pageNumber = $.trim(current.attr('data-num'));\r\n\r\n          if (!pageNumber || current.hasClass(attributes.disableClassName)) return;\r\n\r\n          // Before previous clicked\r\n          if (self.callHook('beforePreviousOnClick', event, pageNumber) === false) return false;\r\n\r\n          self.go(pageNumber);\r\n\r\n          // After previous clicked\r\n          self.callHook('afterPreviousOnClick', event, pageNumber);\r\n\r\n          if (!attributes.pageLink) return false;\r\n        });\r\n\r\n        // Next button click\r\n        el.delegate('.J-paginationjs-next', 'click', function(event) {\r\n          var current = $(event.currentTarget);\r\n          var pageNumber = $.trim(current.attr('data-num'));\r\n\r\n          if (!pageNumber || current.hasClass(attributes.disableClassName)) return;\r\n\r\n          // Before next clicked\r\n          if (self.callHook('beforeNextOnClick', event, pageNumber) === false) return false;\r\n\r\n          self.go(pageNumber);\r\n\r\n          // After next clicked\r\n          self.callHook('afterNextOnClick', event, pageNumber);\r\n\r\n          if (!attributes.pageLink) return false;\r\n        });\r\n\r\n        // Go button click\r\n        el.delegate('.J-paginationjs-go-button', 'click', function(event) {\r\n          var pageNumber = $('.J-paginationjs-go-pagenumber', el).val();\r\n\r\n          // Before Go button clicked\r\n          if (self.callHook('beforeGoButtonOnClick', event, pageNumber) === false) return false;\r\n\r\n          container.trigger(eventPrefix + 'go', pageNumber);\r\n\r\n          // After Go button clicked\r\n          self.callHook('afterGoButtonOnClick', event, pageNumber);\r\n        });\r\n\r\n        // go input enter\r\n        el.delegate('.J-paginationjs-go-pagenumber', 'keyup', function(event) {\r\n          if (event.which === 13) {\r\n            var pageNumber = $(event.currentTarget).val();\r\n\r\n            // Before Go input enter\r\n            if (self.callHook('beforeGoInputOnEnter', event, pageNumber) === false) return false;\r\n\r\n            container.trigger(eventPrefix + 'go', pageNumber);\r\n\r\n            // Regains focus\r\n            $('.J-paginationjs-go-pagenumber', el).focus();\r\n\r\n            // After Go input enter\r\n            self.callHook('afterGoInputOnEnter', event, pageNumber);\r\n          }\r\n        });\r\n\r\n        // Previous page\r\n        container.on(eventPrefix + 'previous', function(event, done) {\r\n          self.previous(done);\r\n        });\r\n\r\n        // Next page\r\n        container.on(eventPrefix + 'next', function(event, done) {\r\n          self.next(done);\r\n        });\r\n\r\n        // Disable\r\n        container.on(eventPrefix + 'disable', function() {\r\n          self.disable();\r\n        });\r\n\r\n        // Enable\r\n        container.on(eventPrefix + 'enable', function() {\r\n          self.enable();\r\n        });\r\n\r\n        // Refresh\r\n        container.on(eventPrefix + 'refresh', function(event, done) {\r\n          self.refresh(done);\r\n        });\r\n\r\n        // Show\r\n        container.on(eventPrefix + 'show', function() {\r\n          self.show();\r\n        });\r\n\r\n        // Hide\r\n        container.on(eventPrefix + 'hide', function() {\r\n          self.hide();\r\n        });\r\n\r\n        // Destroy\r\n        container.on(eventPrefix + 'destroy', function() {\r\n          self.destroy();\r\n        });\r\n\r\n        // Whether to load the default page\r\n        // var validTotalPage = Math.max(self.getTotalPage(), 1)\r\n        var validTotalPage = Math.max(paginateObj.getTotalAppPages(), 1)\r\n        var defaultPageNumber = attributes.pageNumber;\r\n        // Default pageNumber should be 1 when totalNumber is dynamic\r\n        if (self.isDynamicTotalNumber) {\r\n          defaultPageNumber = 1;\r\n        }\r\n        if (attributes.triggerPagingOnInit) {\r\n          container.trigger(eventPrefix + 'go', Math.min(defaultPageNumber, validTotalPage));\r\n        }\r\n      }\r\n    };\r\n\r\n    // Pagination has been initialized\r\n    if (container.data('pagination') && container.data('pagination').initialized === true) {\r\n      // Handle events\r\n      if ($.isNumeric(options)) {\r\n        // eg: container.pagination(5)\r\n        container.trigger.call(this, eventPrefix + 'go', options, arguments[1]);\r\n        return this;\r\n      } else if (typeof options === 'string') {\r\n        var args = Array.prototype.slice.apply(arguments);\r\n        args[0] = eventPrefix + args[0];\r\n\r\n        switch (options) {\r\n          case 'previous':\r\n          case 'next':\r\n          case 'go':\r\n          case 'disable':\r\n          case 'enable':\r\n          case 'refresh':\r\n          case 'show':\r\n          case 'hide':\r\n          case 'destroy':\r\n            container.trigger.apply(this, args);\r\n            break;\r\n          // Get selected page number\r\n          case 'getSelectedPageNum':\r\n            if (container.data('pagination').model) {\r\n              return container.data('pagination').model.pageNumber;\r\n            } else {\r\n              return container.data('pagination').attributes.pageNumber;\r\n            }\r\n          // Get total page\r\n          case 'getTotalPage':\r\n            return Math.ceil(container.data('pagination').model.totalNumber / container.data('pagination').model.pageSize);\r\n          // Get data of selected page\r\n          case 'getSelectedPageData':\r\n            return container.data('pagination').currentPageData;\r\n          // Whether pagination has been disabled\r\n          case 'isDisabled':\r\n            return container.data('pagination').model.disabled === true;\r\n          default:\r\n            throwError('Unknown action: ' + options);\r\n        }\r\n        return this;\r\n      } else {\r\n        // Uninstall the old instance before initializing a new one\r\n        uninstallPlugin(container);\r\n      }\r\n    } else {\r\n      if (!Helpers.isObject(options)) throwError('Illegal options');\r\n    }\r\n\r\n    // Check parameters\r\n    parameterChecker(attributes);\r\n\r\n    pagination.initialize();\r\n\r\n    return this;\r\n  };\r\n\r\n  // Instance defaults\r\n  $.fn[pluginName].defaults = {\r\n\r\n    // Data source\r\n    // Array | String | Function | Object\r\n    dataSource: '',\r\n\r\n    // String | Function\r\n    locator: 'data',\r\n\r\n    // Find totalNumber from remote response, the totalNumber will be ignored when totalNumberLocator is specified\r\n    // Function\r\n    totalNumberLocator: function() {},\r\n\r\n    // Total entries\r\n    totalNumber: 0,\r\n\r\n    // Default page\r\n    pageNumber: 1,\r\n\r\n    // entries of per page\r\n    pageSize: 10,\r\n\r\n    // Page range (pages on both sides of the current page)\r\n    pageRange: 2,\r\n\r\n    // Whether to display the 'Previous' button\r\n    showPrevious: true,\r\n\r\n    // Whether to display the 'Next' button\r\n    showNext: true,\r\n\r\n    // Whether to display the page buttons\r\n    showPageNumbers: true,\r\n\r\n    showNavigator: false,\r\n\r\n    // Whether to display the 'Go' input\r\n    showGoInput: false,\r\n\r\n    // Whether to display the 'Go' button\r\n    showGoButton: false,\r\n\r\n    // Page link\r\n    pageLink: '',\r\n\r\n    // 'Previous' text\r\n    // prevText: '&laquo;',\r\nprevText: '',\r\n    // 'Next' text\r\n    // nextText: '&raquo;',\r\nnextText: '',\r\n\r\n    // Ellipsis text\r\n    ellipsisText: '...',\r\n\r\n    // 'Go' button text\r\n    goButtonText: 'Go',\r\n\r\n    // Additional className for Pagination element\r\n    //className: '',\r\n\r\n    classPrefix: 'paginationjs',\r\n\r\n    // Default active class\r\n    activeClassName: 'active',\r\n\r\n    // Default disable class\r\n    disableClassName: 'disabled',\r\n\r\n    //ulClassName: '',\r\n\r\n    // Whether to insert inline style\r\n    inlineStyle: true,\r\n\r\n    formatNavigator: '<%= currentPage %> / <%= totalPage %>',\r\n\r\n    formatGoInput: '<%= input %>',\r\n\r\n    formatGoButton: '<%= button %>',\r\n\r\n    // Pagination element's position in the container\r\n    position: 'bottom',\r\n\r\n    // Auto hide previous button when current page is the first page\r\n    autoHidePrevious: false,\r\n\r\n    // Auto hide next button when current page is the last page\r\n    autoHideNext: false,\r\n\r\n    //header: '',\r\n\r\n    //footer: '',\r\n\r\n    // Aliases for custom pagination parameters\r\n    //alias: {},\r\n\r\n    // Whether to trigger pagination at initialization\r\n    triggerPagingOnInit: true,\r\n\r\n    // Whether to hide pagination when less than one page\r\n    hideWhenLessThanOnePage: false,\r\n\r\n    showFirstOnEllipsisShow: true,\r\n\r\n    showLastOnEllipsisShow: true,\r\n\r\n    // Pagination callback\r\n    callback: function() {}\r\n  };\r\n\r\n  // Hook register\r\n  $.fn[pluginHookMethod] = function(hook, callback) {\r\n    if (arguments.length < 2) {\r\n      throwError('Missing argument.');\r\n    }\r\n\r\n    if (!$.isFunction(callback)) {\r\n      throwError('callback must be a function.');\r\n    }\r\n\r\n    var container = $(this);\r\n    var paginationData = container.data('pagination');\r\n\r\n    if (!paginationData) {\r\n      container.data('pagination', {});\r\n      paginationData = container.data('pagination');\r\n    }\r\n\r\n    !paginationData.hooks && (paginationData.hooks = {});\r\n\r\n    //paginationData.hooks[hook] = callback;\r\n    paginationData.hooks[hook] = paginationData.hooks[hook] || [];\r\n    paginationData.hooks[hook].push(callback);\r\n\r\n  };\r\n\r\n  // Static method\r\n  $[pluginName] = function(selector, options) {\r\n    if (arguments.length < 2) {\r\n      throwError('Requires two parameters.');\r\n    }\r\n\r\n    var container;\r\n\r\n    // 'selector' is a jQuery object\r\n    if (typeof selector !== 'string' && selector instanceof jQuery) {\r\n      container = selector;\r\n    } else {\r\n      container = $(selector);\r\n    }\r\n\r\n    if (!container.length) return;\r\n\r\n    container.pagination(options);\r\n\r\n    return container;\r\n  };\r\n\r\n  // ============================================================\r\n  // helpers\r\n  // ============================================================\r\n\r\n  var Helpers = {};\r\n\r\n  // Throw error\r\n  function throwError(content) {\r\n    throw new Error('Pagination: ' + content);\r\n  }\r\n\r\n  // Check parameters\r\n  function parameterChecker(args) {\r\n    if (!args.dataSource) {\r\n      throwError('\"dataSource\" is required.');\r\n    }\r\n\r\n    if (typeof args.dataSource === 'string') {\r\n      if (args.totalNumberLocator === undefined) {\r\n        if (args.totalNumber === undefined) {\r\n          throwError('\"totalNumber\" is required.');\r\n        } else if (!$.isNumeric(args.totalNumber)) {\r\n          throwError('\"totalNumber\" is incorrect. (Number)');\r\n        }\r\n      } else {\r\n        if (!$.isFunction(args.totalNumberLocator)) {\r\n          throwError('\"totalNumberLocator\" should be a Function.');\r\n        }\r\n      }\r\n    } else if (Helpers.isObject(args.dataSource)) {\r\n      if (typeof args.locator === 'undefined') {\r\n        throwError('\"dataSource\" is an Object, please specify \"locator\".');\r\n      } else if (typeof args.locator !== 'string' && !$.isFunction(args.locator)) {\r\n        throwError('' + args.locator + ' is incorrect. (String | Function)');\r\n      }\r\n    }\r\n\r\n    if (args.formatResult !== undefined && !$.isFunction(args.formatResult)) {\r\n      throwError('\"formatResult\" should be a Function.');\r\n    }\r\n  }\r\n\r\n  // uninstall plugin\r\n  function uninstallPlugin(target) {\r\n    var events = ['go', 'previous', 'next', 'disable', 'enable', 'refresh', 'show', 'hide', 'destroy'];\r\n\r\n    // off events of old instance\r\n    $.each(events, function(index, value) {\r\n      target.off(eventPrefix + value);\r\n    });\r\n\r\n    // reset pagination data\r\n    target.data('pagination', {});\r\n\r\n    // remove old\r\n    $('.paginationjs', target).remove();\r\n  }\r\n\r\n  // Object type detection\r\n  function getObjectType(object, tmp) {\r\n    return ( (tmp = typeof(object)) == \"object\" ? object == null && \"null\" || Object.prototype.toString.call(object).slice(8, -1) : tmp ).toLowerCase();\r\n  }\r\n\r\n  $.each(['Object', 'Array', 'String'], function(index, name) {\r\n    Helpers['is' + name] = function(object) {\r\n      return getObjectType(object) === name.toLowerCase();\r\n    };\r\n  });\r\n\r\n  /*\r\n   * export via AMD or CommonJS\r\n   * */\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function() {\r\n      return $;\r\n    });\r\n  }\r\n\r\n})(this, window.jQuery);\r\n","import refs from './refs';\r\nimport 'jquery/dist/jquery';\r\nimport 'jquery/src/jquery';\r\nimport './utils/paginator';\r\n\r\nimport { getMovieByIdArray } from './apiServices';\r\nimport { dataProccessing, keySearch } from '../index';\r\nimport { myLibraryRequest, libraryListLength, idListQueue } from './myLibrary';\r\nimport createCards from './createCards';\r\nimport spinner from './utils/spiner';\r\n\r\nimport { data } from 'jquery';\r\nexport const paginateObj = {\r\n  paginate() {\r\n    $(refs.paginatorWrapper).pagination({\r\n      dataSource: `https://#`, //заглушка\r\n      pageSize: 9, //заглушка\r\n      autoHidePrevious: true,\r\n      autoHideNext: true,\r\n      // ajax: {\r\n      //   beforeSend: function () {\r\n      //     refs.filmsListinnerHTML ='Loading data from flickr.com ...';\r\n      //   }\r\n      // },\r\n\r\n      // import { dataProccessing, keySearch } from '../index';\r\n      // import createCards from './createCards';\r\n\r\n      // export const paginateObj = {\r\n      //   paginate() {\r\n      //     $(refs.paginatorWrapper).pagination({\r\n      //       dataSource: `https://#`, //заглушка\r\n\r\n      // import { dataProccessing } from '../index';\r\n      // import createCards from './createCards';\r\n\r\n      // export default function paginate() {\r\n      //   $(refs.paginatorWrapper).pagination({\r\n      //     dataSource: `https://#`, //заглушка\r\n\r\n      //    locator: 'results',\r\n      //    totalNumberLocator: function (response) {\r\n      //         return response.total_results;\r\n      //   },\r\n      //       pageSize: 1, //заглушка\r\n\r\n      // ajax: {\r\n      //   beforeSend: function () {\r\n      //     refs.filmsListinnerHTML ='Loading data from flickr.com ...';\r\n      //   }\r\n      // },\r\n\r\n      callback: function (data, pagination) {\r\n        createCards(data);\r\n      },\r\n    });\r\n  },\r\n  chooseFn(pageNumber) {\r\n    if (myLibraryRequest) {\r\n      return getMovieByIdArray(idListQueue).then(data => {\r\n        let j = 0;\r\n        const dataPerPage = [];\r\n        for (\r\n          let i = 9 * pageNumber - 9;\r\n          i < Math.min(data.length, 9 * pageNumber);\r\n          i += 1\r\n        ) {\r\n          dataPerPage[j] = data[i];\r\n          j += 1;\r\n        }\r\n        return dataPerPage;\r\n      });\r\n    } else {\r\n      if (!keySearch) {\r\n        return dataProccessing.getNextPage(pageNumber);\r\n      } else {\r\n        return dataProccessing\r\n          .keywordSearch(refs.searchInput.value)\r\n          .then(data => {\r\n            refs.errorNotafication.classList.add('is-hidden');\r\n            if (data.length === 0) throw new Error('Whoops!');\r\n            spinner.stop();\r\n\r\n            return data;\r\n          })\r\n          .catch(e => {\r\n            console.log('catch e', e);\r\n            spinner.stop();\r\n            refs.errorNotafication.classList.remove('is-hidden');\r\n          });\r\n      }\r\n    }\r\n  },\r\n  getTotalAppPages() {\r\n    if (myLibraryRequest) {\r\n      return Math.ceil(libraryListLength / 9);\r\n    } else {\r\n      return dataProccessing.getAppPages;\r\n    }\r\n  },\r\n};\r\n\r\n//   //     callback: function (data, pagination) {\r\n//   //       createCards(data);\r\n//   //       // console.log(pageNumber);\r\n//   //       // console.log(this.totalNumber);\r\n//   //       // console.log(refs.filmsListHome.pagination('getSelectedPageNum'));\r\n//   //     },\r\n//   //   });\r\n//   // console.log(pagination.getSelectedPageNum);\r\n//   //   refs.paginationPageList.addEventListener('click', onPageClick);\r\n// };\r\n\r\nexport { dataProccessing };\r\n","import refs from './refs';\r\n// import { getMovieByIdArray } from '../js/apiServices';\r\n// import createCards from './createCards';\r\nimport debounce from 'lodash.debounce';\r\nimport { listenScroll, scrollUp } from './utils/scroll';\r\nimport { paginateObj } from '../js/toPaginateWithApi';\r\n\r\nlet libraryListLength = 0;\r\nlet idListQueue = [];\r\nlet myLibraryRequest = false;\r\n\r\nexport function markQueue(lokalStorage) {\r\n  const queueListId = localStorage.getItem(lokalStorage);\r\n  if (queueListId === null) {\r\n    return;\r\n  }\r\n  const queueList = JSON.parse(queueListId);\r\n\r\n  idListQueue = queueList.id;\r\n  libraryListLength = idListQueue.length;\r\n  myLibraryRequest = true;\r\n  paginateObj.paginate();\r\n}\r\n// При deploy изменить на /filmoteka/my-lib.html\r\nif (location.pathname === '/filmoteka/my-lib.html') {\r\n  // if (location.pathname === '/my-lib.html') {\r\n  markQueue('favorite');\r\n\r\n  refs.libraryWatchedBtn.addEventListener('click', libraryWatched);\r\n  refs.libraryQueueBtn.addEventListener('click', libraryQueue);\r\n\r\n  if (refs.libraryQueueBtn.classList.contains('is-active')) {\r\n    refs.libraryQueueBtn.removeEventListener('click', libraryQueue);\r\n  }\r\n  window.addEventListener('scroll', debounce(listenScroll, 500));\r\n  scrollUp();\r\n}\r\n\r\nfunction libraryWatched(event) {\r\n  event.preventDefault();\r\n  refs.libraryWatchedBtn.removeEventListener('click', libraryWatched);\r\n  refs.libraryQueueBtn.addEventListener('click', libraryQueue);\r\n  refs.libraryWatchedBtn.classList.add('is-active');\r\n  refs.libraryQueueBtn.classList.remove('is-active');\r\n  markQueue('watched');\r\n}\r\n\r\nfunction libraryQueue(event) {\r\n  event.preventDefault();\r\n  refs.libraryQueueBtn.removeEventListener('click', libraryQueue);\r\n  refs.libraryWatchedBtn.addEventListener('click', libraryWatched);\r\n  refs.libraryQueueBtn.classList.add('is-active');\r\n  refs.libraryWatchedBtn.classList.remove('is-active');\r\n  markQueue('favorite');\r\n}\r\nexport { myLibraryRequest, libraryListLength, idListQueue };\r\n","import itemsTemplate from '../templates/cardsTemplate.hbs';\r\nimport itemTemplateMyLibrary from '../templates/cardsTemplatesMyLibrary.hbs';\r\nimport modalCard from '../templates/modalCard.hbs';\r\nimport { addWatchedFilm } from './add-to-watch.js';\r\nimport { addFavoriteFilm } from './add-to-favorite.js';\r\nimport { markQueue } from './myLibrary';\r\n\r\nimport refs from './refs';\r\nexport default function createCards(data) {\r\n  // перед созданием карточек чистим filmsList\r\n  refs.filmsListHome.innerHTML = '';\r\n  let markup = '';\r\n  // При deploy изменить на /filmoteka/my-lib.html\r\n  if (location.pathname === '/filmoteka/my-lib.html') {\r\n    // if (location.pathname === '/my-lib.html') {\r\n    markup = itemTemplateMyLibrary(data);\r\n  } else {\r\n    markup = itemsTemplate(data);\r\n  }\r\n\r\n  refs.filmsListHome.insertAdjacentHTML('beforeend', markup);\r\n  refs.cardFilm.addEventListener('click', openModal);\r\n\r\n  function openModal(e) {\r\n    e.preventDefault();\r\n    const currentCard = e.target;\r\n    if (currentCard.nodeName !== 'IMG') {\r\n      return;\r\n    }\r\n\r\n    refs.body.classList.add('modal-open');\r\n\r\n    const arrayIndex = currentCard.dataset.index;\r\n    refs.lightboxDiv.classList.add('is-open');\r\n\r\n    const markup = modalCard(data[arrayIndex]);\r\n    refs.lightboxDiv.innerHTML = markup;\r\n    addWatchedFilm();\r\n    addFavoriteFilm();\r\n\r\n    window.addEventListener('keydown', onEscapePress);\r\n\r\n    const butClose = document.querySelector(\r\n      'button[data-action=\"close-lightbox\"]',\r\n    );\r\n    butClose.addEventListener('click', onCloseModal);\r\n  }\r\n\r\n  refs.lightboxDiv.addEventListener('click', events => {\r\n    if (events.target === events.currentTarget) {\r\n      onCloseModal();\r\n    }\r\n  });\r\n\r\n  function onCloseModal() {\r\n    if (location.pathname === '/my-lib.html') {\r\n      if (refs.libraryWatchedBtn.classList.contains('is-active'))\r\n        markQueue('watched');\r\n      else if (refs.libraryQueueBtn.classList.contains('is-active'))\r\n        markQueue('favorite');\r\n    }\r\n\r\n    window.removeEventListener('keydown', onEscapePress);\r\n    refs.lightboxDiv.classList.remove('is-open');\r\n\r\n    refs.body.classList.remove('modal-open');\r\n  }\r\n\r\n  function onEscapePress(event) {\r\n    if (event.code === 'Escape') {\r\n      refs.body.classList.remove('modal-open');\r\n      onCloseModal();\r\n    }\r\n  }\r\n}\r\n","import 'normalize.css';\r\nimport './main.scss';\r\nimport './styles.css';\r\nimport './js/footerModal';\r\nimport { DataProccessing } from './js/apiServices';\r\nimport createCards from './js/createCards';\r\nimport refs from './js/refs';\r\nimport spinner from './js/utils/spiner';\r\nimport './js/myLibrary';\r\nimport debounce from 'lodash.debounce';\r\nimport './js/add-to-watch.js';\r\nimport './js/add-to-favorite.js';\r\nimport './js/notification.js';\r\nimport './js/our-students.js';\r\nimport { listenScroll, scrollUp } from './js/utils/scroll';\r\nimport { paginateObj } from './js/toPaginateWithApi';\r\n\r\n// дожлен быть только один объект для всех запросов\r\n\r\nconst dataProccessing = new DataProccessing();\r\n\r\n// для деплоя /filmoteka/ и /filmoteka/index.html или /filmoteka/my-lib.html\r\nif (\r\n  location.pathname === '/filmoteka/index.html' ||\r\n  location.pathname === '/filmoteka/'\r\n) {\r\n  // if (location.pathname === '/index.html' || location.pathname === '/') {\r\n  getHomePage();\r\n  refs.searchForm.addEventListener('submit', searchFilm);\r\n  refs.searchInput.addEventListener('input', debounce(searchFilm, 1000));\r\n  window.addEventListener('resize', debounce(lisenWindowwidth, 1000), false);\r\n  window.addEventListener('scroll', debounce(listenScroll, 500));\r\n  scrollUp();\r\n}\r\nlet keySearch = false;\r\n\r\nfunction getHomePage() {\r\n  spinner.spin(refs.target);\r\n  paginateObj.paginate();\r\n}\r\n\r\nfunction searchFilm(event) {\r\n  keySearch = true;\r\n\r\n  spinner.spin(refs.target);\r\n  event.preventDefault();\r\n\r\n  paginateObj.paginate();\r\n\r\n  keySearch = false;\r\n}\r\n\r\nexport { dataProccessing, keySearch };\r\n\r\n// Слушатель на изменение окна\r\nfunction lisenWindowwidth() {\r\n  if (dataProccessing.isResolutionChanged())\r\n    dataProccessing\r\n      .updResolution()\r\n      .then(data => {\r\n        createCards(data);\r\n      })\r\n      .catch();\r\n}\r\n"],"sourceRoot":""}